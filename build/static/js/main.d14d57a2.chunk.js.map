{"version":3,"sources":["config/urls.ts","utils/network.ts","pages/Authorization/config.ts","components/AuthError/AuthError.tsx","pages/Authorization/Authorization.tsx","utils/privateRoute.tsx","components/Timer/Timer.tsx","media/student.png","media/admin.jpg","components/Header/Header.tsx","components/ButtonTimetable/ButtonTimetable.tsx","components/HiddenInput/HiddenInput.tsx","components/ButtonWithInput/ButtonWithInput.tsx","components/InputNumber/InputNumber.tsx","config/config.ts","components/AdminPanel/AdminPanel.tsx","components/ButtonsLogo/ButtonsLogo.tsx","components/DragAndDrop/DroppableElem/DroppableElem.tsx","components/DragAndDrop/DraggableArea/DraggableArea.tsx","components/IconPlus/IconPlus.tsx","components/DragAndDrop/DroppableArea/DroppableArea.tsx","components/DragAndDrop/config.ts","components/Card/Card.tsx","components/Lesson/Lesson.tsx","components/Blog/blogTag.tsx","components/PostCommentView/PostComment.tsx","components/ViewPost/ViewPost.tsx","components/Pagination/pagination.tsx","pages/PostsList/PostsList.tsx","pages/Home/Home.tsx","components/StatusLabel/StatusLabel.tsx","components/DragAndDrop/DAndD.tsx","pages/Timetable/timetable.tsx","pages/NotFound/NotFound.tsx","components/AutoCompleteInput/AutoInput.tsx","components/Tags/config.ts","components/Tags/Tags.tsx","pages/UsersControl/config.ts","pages/UsersControl/usersTables/usersTables.tsx","pages/UsersControl/UsersControl.tsx","components/PulseCheckBox/pulseCheckBox.tsx","pages/PostCreate/createPost.tsx","pages/Profile/Profile.tsx","App/App.tsx","index.tsx"],"names":["DOMAIN","BASE_URL","USER_URL","TIMETABLE_URL","AUTH_URL","PANEL_URL","POST_URL","FEED_URL","Urls","root","user","slugRoot","slugMe","slugProfile","postCreate","postUpdate","getUser","id","getStudentsAll","getProfessorsAll","feed","timetable","slugEdit","get","group","week","post","delete","panel","slugCreate","discipline","getAll","auth","notFound","axios","defaults","withCredentials","makeGet","url","a","method","headers","makePost","data","makePut","makeDelete","EMPTY_PASSWORD_FIELD","ERROR_EMAIL_FIELD","ERROR_PASSWORD_FIELD","USER_TYPE_STUDENT","USER_TYPE_PROFESSOR","USER_TYPE_METHODIST","AuthError","msg","className","React","memo","Logout","history","then","r","catch","e","localStorage","clear","replace","Auth","useState","email","setEmail","password","setPassword","emailDirty","setEmailDirty","passwordDirty","setPasswordDirty","emailError","setEmailError","passwordError","setPasswordError","formValid","setFormValid","userError","setUserError","checkBox","setCheckBox","useHistory","CheckBoxHandler","useCallback","target","checked","HandleSubmit","preventDefault","checkbox","response","setItem","Date","now","toString","role","push","error","status","useEffect","EmailHandler","emailNew","value","test","String","toLowerCase","PasswordHandler","passwdNew","length","BlurHandler","name","onBlur","onChange","type","placeholder","disabled","onClick","PrivateRoute","Component","component","rest","ServerCheckLogin","location","pathname","authed","lastAuthTime","parseInt","getItem","DefaultCheckLogin","render","props","to","state","from","secondsToTime","s","h","Math","trunc","m","Timer","onZero","size","time","seconds","changeTime","isActive","setActive","OnStopCallback","timer","window","setInterval","clearInterval","style","fontSize","xs","lg","Header","useLocation","collapseIsOpen","collapseChange","toggleCollapse","includes","color","dark","expand","isOpen","navbar","left","active","right","src","Admin","Avatar","alt","sm","basic","ButtonTimetable","btn","children","background","title","HiddenInput","handleChange","display","ButtonWithInput","onBtnChange","onInputChange","onAreaChange","inputs","activeInput","areaValue","changeValueArea","inputValue","changeValueInput","collapseOpen","changeCollapse","changeAreaValue","maxAreaLength","setActiveElement","disableInputs","changeInputValue","maxInputLength","buttonFields","buttonCollapse","InputNumber","min","max","defaultValue","setValue","intValue","Week","day","date","buttonsContent","LessonsTime","TAG_GENERAL","TAG_IMPORTANT","TAG_EDUCATIONAL","AdminPanel","dayIdx","changeDay","getPanelData","panelLabel","setLabel","semester","weekType","groupInfo","setInfo","changeLabelInfo","newInfo","isNaN","newLabel","icon","faCogs","uuid","faPlus","NaN","btnLogo","require","bind","btnXs","ButtonsLogo","idx","backgroundColor","DroppableElem","sourceIdx","header","footer","isEmpty","faMapMarkerAlt","DraggableArea","droppableColumn","droppableId","isDropDisabled","provided","ref","innerRef","map","item","index","draggableId","snapshot","Fragment","draggableProps","dragHandleProps","border","isDragging","faBars","opacity","IconPlus","faTimes","DroppableArea","Lists","removeList","removeItem","Object","keys","list","isDraggingOver","faClock","Labels","LabelsInt","findNextDay","some","saveTimetable","deleted","panelData","showLabel","week_type","week_number","days","forEach","i","day_order","lessons","lesson","lesson_order","lesson_id","auditorium","lesson_type","content","success","console","log","lessons_ids","resp","postWeekData","err","Card","currentDay","items","elem","Lesson","BlogTag","CommentView","key","text","viewByAuthor","answers","commentAuthor","onDeleteClick","PostView","isOutputFull","isLiked","changeLiked","likesCnt","changeLikesCnt","commentsCnt","comments","changeComments","href","rel","document","getElementById","click","undefined","oldComments","authorAvatarPath","commentId","author","n","text_forms","n1","abs","declOfNum","comment","findIndex","c","splice","deleteComment","alert","Pagination","circle","PostsList","posts","changePosts","oldPosts","prepareWeek","weekDays","newList","getWeekType","Home","weekDay","weekInfo","changeWeekInfo","orgInfo","changeOrgInfo","changeLessons","today","getDate","getDay","weekAgo","monthIdx","getMonth","months","floor","getWeekData","weekData","userGroup","savedWeek","StatusLabel","info","shown","isShown","setTimeout","clearTimeout","DragAndDrop","changeDeleted","changeList","changeDayIdx","areasValue","setAreasValues","inputsValue","setValues","setPanelData","changeArea","oldAreas","changeInput","oldInputs","useMemo","onDragEnd","result","source","destination","header_text","footer_text","startIndex","endIndex","Array","removed","reorder","draggable","droppableIndex","destClone","copy","AddList","deletedLessons","getPanelDataHandler","faSave","Timetable","NotFoundPage","homeRedirectHandler","goBack","AutoInput","inputProps","dataList","createElement","input","setAttribute","option","dataListOption","appendChild","ERROR_TAG_FIELD","Tags","tags","changeTags","selectList","noFocus","errMsg","tagInput","setTagInp","label","handleInput","tagInfo","tag","isTagValid","handleBlur","handleDelete","tagsOld","tagId","obj","addTag","tagOld","MAX_SNP","ERROR_NAME_FIELD","ERROR_SURNAME_FIELD","ERROR_PATRONYMIC_FIELD","ERROR_ABOUT_FIELD","btnPasswd","len","generatePassword","checkRussian","str","UsersTable","userType","rowClickEvent","needDownload","setDownload","timerRedo","setTimerRedo","isReady","setReady","columns","rows","setData","handleClick","users","responseConverter","finally","tableDataTemplate","field","sort","surname","patronymic","phone","student_group","disciplines","prof_disciplines_str","substring","split","join","about","clickEvent","handleRedo","faRedoAlt","hover","striped","infoLabel","paginationLabel","noRecordsFoundLabel","bordered","responsive","small","InitialUser","sem","UsersControl","inputPasswd","setInputPasswd","userInfo","setUserInfo","setTimer","setDisciplines","wasEdit","oldPhone","oldEmail","isDataForEdit","changeEditFlag","btnText","setBtnText","userValid","setUserValid","inputElem","handleSubmit","fieldsCanBeEmpty","isFormValid","isValid","canBeEmpty","noEmptyFields","notEmpty","newUser","trim","prof_disciplines","dis","handlePassword","oldUser","oldUserValid","handleUserInfo","telephone","numbersOld","numbersNew","handleInputId","handleUserEdit","slice","prepareUser","d","discipline_content","newTags","oldInfo","PulseCheckBox","description","isChecked","changeChecked","CreatePost","postImgUrl","allowComments","buttonText","postInfo","changePostInfo","changeTag","postImgInput","changePostImgInput","isTextChanged","changeTextFlag","handleTitleChange","handleEditorChange","editor","handleButtonChange","getTinymce","activeEditor","execCommand","handleSelectChange","handleCheckBoxChange","filePickerCb","callback","meta","filetype","file","onchange","files","reader","FileReader","onload","readAsDataURL","accept","oldPost","URL","createObjectURL","hidden","apiKey","init","language","min_height","height","max_height","plugins","toolbar","style_formats_merge","style_formats","selector","styles","insertdatetime_formats","image_advtab","fullscreen_native","automatic_uploads","image_description","file_picker_types","paste_webkit_styles","paste_retain_style_properties","paste_data_images","paste_as_text","file_picker_callback","content_style","onEditorChange","outline","Profile","imgUrl","changeImgUrl","App","exact","path","ViewPost","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.d14d57a2.chunk.js","sourcesContent":["//export const DOMAIN = \"http://localhost:8080/api/v1/\";\n\nexport const DOMAIN = \"https://10-tka.ru/api/v1/\";\nexport const ADD_USER = \"users/create\"\nexport const LOGIN = \"users/login\";\nexport const LOGOUT = \"users/logout\";\nexport const ME = \"users/me\"\n\nconst BASE_URL = \"/\";\nconst ANY_URL = \"*\";\nconst USER_URL = `${BASE_URL}users`;\nconst TIMETABLE_URL = `${BASE_URL}timetable`;\nconst AUTH_URL = `${BASE_URL}auth`;\nconst PANEL_URL = `${BASE_URL}panel`;\nconst POST_URL = `${BASE_URL}posts`\nconst FEED_URL = `${BASE_URL}feed`\n\nexport const Urls = {\n    root: BASE_URL,\n    user: {\n        slugRoot: USER_URL,\n        slugMe: `${USER_URL}/me`,\n        slugProfile: `${USER_URL}/profile/`,\n\n        postCreate: () => `${DOMAIN}users/`,\n        postUpdate: () => `${DOMAIN}users/`,\n        getUser: (id: string | number) => `${USER_URL}/profile/${id}`,\n        getStudentsAll: () => `${DOMAIN}users/students`,\n        getProfessorsAll: () => `${DOMAIN}users/professors`,\n    },\n    feed: {\n        slugRoot: FEED_URL\n    },\n    timetable: {\n        slugRoot: TIMETABLE_URL,\n        slugEdit: `${TIMETABLE_URL}/edit`,\n        get: (group: string, week: number) => `${DOMAIN}timetable/${group}/${week}`,\n        post: () => `${TIMETABLE_URL}/create`,\n        delete: () => `${TIMETABLE_URL}/`\n    },\n    panel: {\n        slugRoot: PANEL_URL,\n    },\n    post: {\n        slugRoot: POST_URL,\n        slugCreate: `${POST_URL}/create`\n    },\n    discipline: {\n        getAll: () => `${DOMAIN}disciplines/all`\n    },\n    auth: AUTH_URL,\n    notFound: ANY_URL,\n}","import axios from \"axios\";\naxios.defaults.withCredentials = true;\n\nexport const makeGet = async (url: string) => {\n    return axios({\n        method: \"get\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n        withCredentials: true,\n        url: url\n    });\n};\n\nexport const makePost = async (url: string, data: any) => {\n    return axios({\n        method: \"post\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n\n        url: url,\n        data: data,\n        withCredentials: true\n    });\n};\n\nexport const makePut = async (url: string, data: any) => {\n    return axios({\n        method: \"put\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n\n        url: url,\n        data: data,\n        withCredentials: true\n    });\n};\n\nexport const makeDelete = async (url: string, data: any) => {\n    return axios({\n        method: \"delete\",\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n        url: url,\n        data: data,\n        withCredentials: true\n    });\n};\n\n","export const DEFAULT_SESSION_TIME = 3 * 24 * 60 * 60 * 1000; // 3 days in ms\nexport const PROTECTED_SESSION_TIME = 2 * 3600; // 2 hours in sec\nexport const ERROR_SERVER = \"Внутренняя ошибка сервера, попробуйте позже!\";\nexport const SERVER_UNAVAILABLE = \"Связь с сервером потеряна!\";\nexport const ERROR_AUTHORIZATION = \"Неверное имя пользователя или пароль!\";\nexport const PASSWORD_MAX_LENGTH = 35;\nexport const PASSWORD_MIN_LENGTH = 5;\nexport const EMPTY_EMAIL_FIELD = \"Email не может быть пустым!\";\nexport const EMPTY_PASSWORD_FIELD = \"Пароль не может быть пустым!\";\nexport const ERROR_EMAIL_FIELD = \"Некорректный email!\";\nexport const ERROR_PASSWORD_FIELD = `Длина пароля должна быть от ${PASSWORD_MIN_LENGTH} до ${PASSWORD_MAX_LENGTH} символов!`;\n\nexport const USER_TYPE_STUDENT = \"student\";\nexport const USER_TYPE_PROFESSOR = \"professor\";\nexport const USER_TYPE_ADMIN = \"admin\";\nexport const USER_TYPE_METHODIST = \"methodist\";\nexport const USER_TYPE_GUEST = \"guest\";","import React from \"react\";\nimport \"./AuthError.scss\"\n\ntype Props = {\n    msg: string\n}\n\nconst AuthError:React.FC<Props> = ({msg}) => {\n    return (\n        <div className=\"Auth__error\">{msg}</div>\n    )\n}\n\nexport default React.memo(AuthError);","import React, {useEffect, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\"\n\nimport {DOMAIN, LOGIN, LOGOUT, Urls} from \"@config/urls\";\n\nimport {\n    DEFAULT_SESSION_TIME,\n    EMPTY_EMAIL_FIELD,\n    EMPTY_PASSWORD_FIELD,\n    ERROR_AUTHORIZATION,\n    ERROR_EMAIL_FIELD,\n    ERROR_PASSWORD_FIELD,\n    ERROR_SERVER,\n    PASSWORD_MAX_LENGTH,\n    PASSWORD_MIN_LENGTH,\n    SERVER_UNAVAILABLE\n} from \"./config\";\nimport \"./Authorization.scss\"\nimport AuthError from \"@components/AuthError\";\nimport {makePost} from \"@utils/network\";\nimport {addUsers} from \"@utils/addUsers\";\n\nexport const Logout = (history: any) => {\n    makePost(`${DOMAIN}${LOGOUT}`, null).then((r) => {\n    }).catch((e) => {\n    })\n    localStorage.clear()\n    history.replace(Urls.auth);\n}\n\nexport const DefaultCheckLogin = () => {\n    const lastAuthTime = parseInt(localStorage.getItem(\"loginTime\") as string);\n    return lastAuthTime != null && Date.now() - lastAuthTime < DEFAULT_SESSION_TIME;\n}\n\nconst Auth = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [emailDirty, setEmailDirty] = useState(false);\n    const [passwordDirty, setPasswordDirty] = useState(false);\n    const [emailError, setEmailError] = useState(EMPTY_EMAIL_FIELD);\n    const [passwordError, setPasswordError] = useState(EMPTY_PASSWORD_FIELD);\n    const [formValid, setFormValid] = useState(false);\n    const [userError, setUserError] = useState('');\n    const [checkBox, setCheckBox] = useState(false);\n    const history = useHistory();\n\n    const CheckBoxHandler = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        setCheckBox(e.target.checked);\n    }, []);\n\n    const HandleSubmit = React.useCallback((e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n        e.preventDefault();\n\n        //addUsers();\n\n        // localStorage.setItem(\"loginTime\", Date.now().toString());\n        // localStorage.setItem(\"user_role\", 'admin')\n        // const userGroup = \"IU10-83\";\n        // history.push(Urls.feed.slugRoot);\n\n        makePost(`${DOMAIN}${LOGIN}`, {\n            email: email,\n            password: password,\n            checkbox: checkBox\n        }).then((response) => {\n            localStorage.setItem(\"loginTime\", Date.now().toString());\n            const userGroup = response.data.user.group;\n            //console.log(\"User = \", response.data.user)\n            if (userGroup !== \"\") {\n                localStorage.setItem(\"user_group\", response.data.user.group)\n            }\n            localStorage.setItem(\"user_role\", response.data.user.role)\n            history.push(Urls.feed.slugRoot);\n        }).catch((error) => {\n            if (error.response) {\n                if (error.response.status === 404) {\n                    setUserError(ERROR_AUTHORIZATION);\n                } else {\n                    setUserError(ERROR_SERVER);\n                }\n            } else {\n                setUserError(SERVER_UNAVAILABLE);\n            }\n            return;\n        });\n\n    }, [email, password, checkBox, history]);\n\n    useEffect(() => {\n        if (emailError || passwordError) {\n            setFormValid(false);\n        } else {\n            setFormValid(true);\n        }\n    }, [emailError, passwordError]);\n\n    const EmailHandler = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        const emailNew = e.target.value;\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!re.test(String(emailNew).toLowerCase())) {\n            setEmailError(ERROR_EMAIL_FIELD)\n        } else setEmailError('');\n        setEmail(emailNew);\n    }, []);\n\n    const PasswordHandler = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        const passwdNew = e.target.value;\n        if (passwdNew.length < PASSWORD_MIN_LENGTH || passwdNew.length > PASSWORD_MAX_LENGTH) {\n            setPasswordError(ERROR_PASSWORD_FIELD);\n            if (!passwdNew.length) {\n                setPasswordError(EMPTY_PASSWORD_FIELD);\n            }\n        } else setPasswordError('');\n        setPassword(passwdNew);\n    }, []);\n\n    const BlurHandler = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.name === \"email\") {\n            setEmailDirty(true);\n        } else {\n            setPasswordDirty(true);\n        }\n        setUserError(\"\");\n    }, []);\n\n    return (\n        <div className=\"container-fluid d-flex h-100 justify-content-center align-items-center text-center\">\n            <div className=\"row bg-white shadow-sm m-1\">\n                <div className=\"col border rounded p-4\">\n                    <form>\n                        <div className=\"form-group\">\n                            <div>Email</div>\n                            {(emailDirty && emailError) && <AuthError msg={emailError}/>}\n                            <input onBlur={BlurHandler} onChange={EmailHandler} value={email}\n                                   type=\"text\" className=\"form-control\" name=\"email\" placeholder=\"Введите email...\"/>\n                            <small id=\"emailHelp\" className=\"form-text text-muted\">Мы не передаем ваши данные\n                                сторонним источникам</small>\n                        </div>\n                        <div className=\"form-group\">\n                            <div>Пароль</div>\n                            {(passwordDirty && passwordError) && <AuthError msg={passwordError}/>}\n                            <input onBlur={BlurHandler} onChange={PasswordHandler} value={password}\n                                   className=\"form-control\" type=\"password\"\n                                   placeholder=\"Введите пароль...\"/>\n                        </div>\n                        <div className=\"d-flex flex-row justify-content-center align-items-center\">\n                            <input className=\"mr-1\" onChange={CheckBoxHandler} type=\"checkbox\"/>\n                            <div>Запомнить меня</div>\n                        </div>\n                        <div className=\"p-0\"> {(userError) && <AuthError msg={userError}/>}</div>\n                        <div className=\"p-3\">\n                            <button disabled={!formValid} onClick={HandleSubmit} type=\"submit\"\n                                    className=\"btn Auth__btn mt-2\">Войти\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Auth;\n","import {Redirect, Route, useHistory} from \"react-router-dom\";\nimport {DOMAIN, ME, Urls} from \"@config/urls\"\nimport React, {useEffect} from \"react\";\nimport {makeGet} from \"@utils/network\";\nimport {DefaultCheckLogin} from \"../pages/Authorization\";\n\ntype Props = {\n    component: any;\n    path: string;\n    exact?: boolean;\n}\n\nexport const PrivateRoute: React.FC<Props> = ({component: Component, ...rest}) => {\n    const history = useHistory()\n\n    useEffect(() => {\n        const ServerCheckLogin = async () => {\n            return makeGet(`${DOMAIN}${ME}`);\n        }\n\n        ServerCheckLogin().then((r) => {\n            if (r.status !== 200) {\n                localStorage.setItem(\"loginTime\", \"\");\n                history.push(Urls.auth)\n            }\n        }).catch(() => {\n            localStorage.setItem(\"loginTime\", \"\");\n            history.push(Urls.auth)\n        })\n    }, [history, history.location.pathname])\n\n    const authed = DefaultCheckLogin();\n    //const authed = true;\n\n    return (\n        <Route {...rest}\n               render={props => authed ?\n                   props.location.pathname === \"/\" ?\n                       <Redirect to={{\n                           pathname: Urls.feed.slugRoot,\n                           state: {from: props.location}\n                       }}\n                       /> :\n                       (<Component {...props} />) :\n                   <Redirect to={{\n                       pathname: Urls.auth,\n                       state: {from: props.location}\n                   }}\n                   />\n               }\n        />\n    )\n}","import React, {useEffect, useState, useCallback} from \"react\";\n\nimport {PROTECTED_SESSION_TIME} from \"../../pages/Authorization/config\";\n\nconst secondsToTime = (s: number) => {\n    const h = Math.trunc(s / 3600);\n    const m = Math.trunc(s / 60 - 60 * h);\n    s = s - 3600 * h - 60 * m\n    return {\n        h: h,\n        m: m,\n        s: s\n    };\n}\n\ntype Props = {\n    id?: string,\n    onZero?: () => void,\n    size: { sm?: boolean, xs?: boolean, lg?: boolean }\n}\n\nconst Timer: React.FC<Props> = ({id, onZero, size}) => {\n\n    const [time, changeTime] = useState({time: secondsToTime(PROTECTED_SESSION_TIME), seconds: PROTECTED_SESSION_TIME});\n    const [isActive, setActive] = useState(true);\n\n    const OnStopCallback = useCallback(\n        () => {\n            if (onZero) {\n                onZero();\n            }\n        },\n        [onZero],\n    );\n\n    const getSize = () => {\n        if (size.xs) {\n            return \"0.7rem\";\n        }\n        return size.lg ? \"1.2rem\" : \"0.9rem\";\n    }\n\n    useEffect(() => {\n        let timer = 0;\n        if (isActive) {\n            timer = window.setInterval(() => {\n                let seconds = time.seconds - 1;\n                changeTime({\n                    time: secondsToTime(seconds),\n                    seconds: seconds,\n                });\n                if (seconds === 0 && isActive) {\n                    setActive(!isActive);\n                    OnStopCallback();\n                }\n            }, 1000);\n        } else if (!isActive && time.seconds !== 0) {\n            window.clearInterval(timer);\n        }\n        return () => window.clearInterval(timer);\n    }, [isActive, time.seconds, OnStopCallback]);\n\n    return (\n        <div key={id} className=\"d-flex\">\n            <div style={{fontSize: getSize()}}>\n                {time.time.h}:{time.time.m}:{time.time.s}\n            </div>\n        </div>\n    );\n}\n\nexport default Timer;\n\n","export default __webpack_public_path__ + \"static/media/student.72adb2a4.png\";","export default __webpack_public_path__ + \"static/media/admin.bb4d60bc.jpg\";","import React, {useCallback, useState} from \"react\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {\n    MDBNavbar,\n    MDBNavbarBrand,\n    MDBNavbarNav,\n    MDBNavItem,\n    MDBNavLink,\n    MDBNavbarToggler,\n    MDBCollapse,\n    MDBDropdown,\n    MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem\n} from \"mdbreact\";\n\nimport Timer from \"@components/Timer\";\nimport Avatar from \"@media/student.png\"\nimport Admin from \"@media/admin.jpg\"\nimport {Urls} from \"@config/urls\";\n\nimport {Logout} from \"../../pages/Authorization\";\nimport \"./Header.scss\"\n\n\nconst Header = () => {\n    const location = useLocation();\n    const history = useHistory();\n\n    const Rendered = () => {\n        return [Urls.feed.slugRoot, Urls.timetable.slugEdit,\n        Urls.panel.slugRoot, Urls.root,\n        Urls.post.slugRoot, Urls.post.slugCreate,\n        Urls.user.slugMe, Urls.user.slugRoot, Urls.user.slugProfile].includes(location.pathname)\n    }\n\n    const [collapseIsOpen, collapseChange] = useState(false);\n\n    const toggleCollapse = useCallback(() => {\n        collapseChange(!collapseIsOpen);\n    }, [collapseIsOpen]);\n\n    return (\n        <div>\n            {Rendered() ? <div className=\"navbar__main\">\n                <MDBNavbar className=\"mb-3\" color=\"teal lighten-2\" dark expand=\"md\">\n                    <MDBNavbarBrand>\n                        <strong className=\"white-text\">10-tka</strong>\n                    </MDBNavbarBrand>\n                    <MDBNavbarToggler onClick={toggleCollapse}/>\n                    <MDBCollapse id=\"navbarCollapse3\" isOpen={collapseIsOpen} navbar>\n                        <MDBNavbarNav left className=\"col-lg-8\">\n                            <MDBNavItem active>\n                                <MDBNavLink className=\"navbar__main_link\" to={Urls.feed.slugRoot}>\n                                    <div className=\"navbar__main_strong\">Главная</div>\n                                </MDBNavLink>\n                            </MDBNavItem>\n                            <MDBNavItem active>\n                                <MDBNavLink className=\"navbar__main_link\" to={Urls.post.slugCreate}>\n                                    <div className=\"navbar__main_strong\">Создать пост</div>\n                                </MDBNavLink>\n                            </MDBNavItem>\n                            <MDBNavItem active>\n                                <MDBNavLink className=\"navbar__main_link\" to={Urls.timetable.slugEdit}>\n                                    <div className=\"navbar__main_strong\">Конструктор расписания</div>\n                                </MDBNavLink>\n                            </MDBNavItem>\n                            {localStorage.getItem(\"user_role\") === \"admin\" ?\n                                <MDBNavItem active>\n                                    <MDBNavLink className=\"navbar__main_link\" to={Urls.panel.slugRoot}>\n                                        <div className=\"navbar__main_strong\">Пользователи</div>\n                                    </MDBNavLink>\n                                </MDBNavItem> : null}\n\n                            <MDBNavItem active className=\"d-md-none\">\n                                <button type=\"button\"\n                                        className=\"link-logout\"\n                                        onClick={() => {\n                                            Logout(history)\n                                        }}>\n                                    <div className=\"navbar__main_strong\">Выход</div>\n                                </button>\n                            </MDBNavItem>\n                        </MDBNavbarNav>\n                        <MDBNavbarNav right className=\" d-none d-md-block\">\n                            <div\n                                className=\"d-flex align-items-center justify-content-end flex-nowrap\">\n                                <MDBNavItem>\n                                    <img className=\"navbar__avatar\"\n                                         src={localStorage.getItem(\"user_role\") === \"admin\" ? Admin : Avatar}\n                                         alt=\"oops\"/>\n                                </MDBNavItem>\n                                <MDBNavItem\n                                    className=\"container-fluid flex-column justify-content-center text-center\">\n                                    <span\n                                        className=\"main__title\">{localStorage.getItem(\"user_role\") === \"admin\" ? \"Admin\" : \"Вася Пупкин\"}</span>\n                                    <div className=\"text-black-50\">\n                                        <Timer size={{sm: true}} onZero={() => {\n                                            Logout(history);\n                                        }}/>\n                                    </div>\n                                </MDBNavItem>\n                                <MDBNavItem>\n                                    <MDBDropdown>\n                                        <MDBDropdownToggle className=\"dropdown-toggle navbar__dropdown\">\n                                        </MDBDropdownToggle>\n                                        <MDBDropdownMenu right basic>\n                                            <MDBDropdownItem onClick={() => {\n                                                history.push(Urls.user.slugMe)\n                                            }}>Профиль</MDBDropdownItem>\n                                            <MDBDropdownItem onClick={() => {\n                                                Logout(history);\n                                            }}>Выйти</MDBDropdownItem>\n                                        </MDBDropdownMenu>\n                                    </MDBDropdown>\n                                </MDBNavItem>\n                            </div>\n                        </MDBNavbarNav>\n                    </MDBCollapse>\n                </MDBNavbar>\n            </div> : null}\n        </div>\n    );\n}\n\nexport default Header;\n\n","import React from \"react\";\nimport \"./ButtonTimetable.scss\"\n\ntype Props = {\n    onChange: (id: string) => void,\n    disabled?: boolean\n    btn: {id: string, title?: string, color: string }\n}\n\nconst ButtonTimetable: React.FC<Props> = ({onChange, disabled, btn, children}) => {\n    return (\n        <button className=\"btn-custom\" type=\"button\"\n                disabled={disabled}\n                onClick={() => {\n                    onChange(btn.id)\n                }}\n                style={{background: btn ? btn.color : \"\"}}>\n            {btn.title ? <span className=\"btn-custom__title\">{btn.title}</span> : children}\n        </button>\n    )\n}\n\nexport default ButtonTimetable;","import React from \"react\";\nimport \"./HiddenInput.scss\"\n\ntype Props = {\n    value: string,\n    onChange: (s: string, id: string) => void,\n    id: string,\n    disabled?: boolean,\n    title?: string\n    buttonId?: string,\n}\n\nconst HiddenInput: React.FC<Props> = ({id, disabled, title, onChange, value}) => {\n    const handleChange = React.useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n        if (onChange) {\n            onChange(e.target.value, id);\n        }\n    }, [onChange, id]);\n\n    return (\n        <div key={id} className=\"hidden d-flex flex-column text-black-50\">\n            <textarea value={value} onChange={handleChange} placeholder={title && !disabled ? title : \"\"}\n                      className=\"hidden__text\"\n                      style={{display: disabled ? \"none\" : \"\"}}/>\n        </div>\n    )\n}\n\nexport default HiddenInput;","import React from \"react\";\nimport {MDBCollapse} from \"mdbreact\";\nimport ButtonTimetable from \"@components/ButtonTimetable\";\nimport HiddenInput from \"@components/HiddenInput\";\n\nimport \"./ButtonWithInput.scss\"\n\ntype Props = {\n    onInputChange?: (id: string, value: string) => void;\n    onAreaChange?: (id: string, value: string) => void;\n    onBtnChange?: () => void,\n    inputs?: { maxInputLength: number, maxAreaLength: number }\n    btn: { id: string, title?: string, color: string, disableInputs?: boolean }\n}\n\nconst ButtonWithInput: React.FC<Props> = ({btn, onBtnChange, onInputChange, onAreaChange, inputs}) => {\n    const [activeInput, setActive] = React.useState(true);\n    const [areaValue, changeValueArea] = React.useState(\"\");\n    const [inputValue, changeValueInput] = React.useState(\"\");\n    const [collapseOpen, changeCollapse] = React.useState(false)\n\n    const changeAreaValue = React.useCallback((value: string) => {\n        if (inputs && inputs.maxAreaLength < value.length) {\n            return;\n        }\n        changeValueArea(value);\n        if (onAreaChange) {\n            onAreaChange(btn.id, value);\n        }\n    }, [onAreaChange, btn.id, inputs])\n\n    const setActiveElement = React.useCallback(() => {\n        if (btn.disableInputs) {\n            changeCollapse(!collapseOpen)\n        } else {\n            setActive(!activeInput);\n            if (onBtnChange) {\n                onBtnChange();\n            }\n        }\n    }, [onBtnChange, activeInput, collapseOpen, btn.disableInputs])\n\n    const changeInputValue = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value;\n        if (inputs && inputs.maxInputLength < value.length) {\n            return;\n        }\n        changeValueInput(value);\n        if (onInputChange) {\n            onInputChange(btn.id, value);\n        }\n    }, [onInputChange, btn.id, inputs]);\n\n\n    const buttonFields = React.useCallback(() => (\n        <div className=\"d-flex flex-row align-content-center\">\n            <div className=\"m-1\">\n                <HiddenInput id={btn.id} value={areaValue}\n                             onChange={changeAreaValue} disabled={activeInput} title={\"Дисциплина\"}/>\n            </div>\n            <div className=\"m-1\">\n                <input id={btn.id} value={inputValue} className=\"btn-mdb-input\" type=\"text\" placeholder=\"Ауд\"\n                       style={{display: activeInput ? \"none\" : \"\"}}\n                       onChange={(e) => {\n                           changeInputValue(e)\n                       }}/>\n            </div>\n        </div>\n    ), [btn.id, inputValue, changeInputValue, changeAreaValue, areaValue, activeInput]);\n\n    const buttonCollapse = React.useCallback(() => (\n        <MDBCollapse id={btn.id} isOpen={collapseOpen}>\n            <span className=\"collapse-text m-1\">\n                Используйте для создания пропусков между парами.\n            </span>\n        </MDBCollapse>\n    ), [btn.id, collapseOpen]);\n\n    return (\n        <div className=\"d-flex flex-row align-content-center\">\n            <ButtonTimetable disabled={false}\n                             onChange={setActiveElement}\n                             btn={btn}/>\n            {!btn.disableInputs ? buttonFields() : buttonCollapse()}\n        </div>\n    )\n}\n\nexport default ButtonWithInput;","import React, {useCallback, useEffect, useState} from \"react\";\nimport \"./InputNumber.scss\"\n\ntype Props = {\n    disabled?: boolean;\n    placeholder: string;\n    id: string;\n    min: number;\n    max: number;\n    onChange?: (id: string, value: number) => void;\n    defaultValue: number\n}\n\nconst InputNumber: React.FC<Props> = ({id, min, max, onChange, placeholder, disabled, defaultValue}) => {\n    const [value, setValue] = useState(\"\");\n\n    useEffect(() => {\n        setValue(defaultValue.toString());\n    }, [defaultValue])\n\n    const changeInputValue = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value;\n        let intValue = parseInt(value);\n        if (intValue < min || intValue > max) {\n            return;\n        }\n        setValue(value);\n        if (onChange) {\n            onChange(id, intValue);\n        }\n    }, [onChange, id, min, max])\n\n    return (\n        <input disabled={disabled} type=\"number\" placeholder={placeholder} className=\"input-number\"\n               value={value}\n               onChange={changeInputValue}/>\n    );\n\n}\n\nexport default InputNumber;","export const Week = [\n    {id: 0, day: \"Пн\", date: \"\"},\n    {id: 1, day: \"Вт\", date: \"\"},\n    {id: 2, day: \"Ср\", date: \"\"},\n    {id: 3, day: \"Чт\", date: \"\"},\n    {id: 4, day: \"Пт\", date: \"\"},\n    {id: 5, day: \"Сб\", date: \"\"},\n    {id: 6, day: \"Вс\", date: \"\"},\n]\n\nexport const buttonsContent = [\n    {id: \"btn-0\", title: \"СЕМ\", color: \"#348A3D\"},\n    {id: \"btn-1\", title: \"ЛЕК\", color: \"#62d76e\"},\n    {id: \"btn-2\", title: \"ЛР\", color: \"#8ebd3b\"},\n    {id: \"btn-3\", title: \"ДЗ\", color: \"#e8722c\"},\n    {id: \"btn-4\", title: \"РК\", color: \"#eabf19\"},\n    {id: \"btn-5\", title: \"КОНС\", color: \"#5c70d9\"},\n    {id: \"btn-6\", title: \"ЭКЗ\", color: \"#ce2c2c\"},\n    {id: \"btn-7\", title: \"СР\", color: \"#3ca490\", disableInputs: true},\n]\n\nexport const LessonsTime = [\n    \"8:30 - 10:05\",\n    \"10:15 - 11:50\",\n    \"12:00 - 13:35\",\n    \"13:50 - 15:25\",\n    \"15:40 - 17:15\",\n    \"17:25 - 19:00\",\n    \"19:10 - 20:45\",\n]\n\n//blog\nexport const TAG_GENERAL = \"Общие вопросы\";\nexport const TAG_IMPORTANT = \"Важное\";\nexport const TAG_EDUCATIONAL = \"Учебная работа\";","import React from \"react\";\nimport {v4 as uuid} from \"uuid\";\nimport {faPlus} from \"@fortawesome/free-solid-svg-icons/faPlus\";\nimport {faCogs} from \"@fortawesome/free-solid-svg-icons/faCogs\";\n\nimport ButtonTimetable from \"@components/ButtonTimetable\";\nimport InputNumber from \"@components/InputNumber\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {Week} from \"@config/config\";\nimport \"./AdminPanel.scss\"\n\n\ntype Props = {\n    dayIdx: number;\n    changeDay: () => void;\n    getPanelData: (group: number, semester: number, week: number, weekType: string) => void;\n}\n\nconst AdminPanel: React.FC<Props> = ({dayIdx, changeDay, getPanelData}) => {\n    const [panelLabel, setLabel] = React.useState(\"\")\n    const [groupInfo, setInfo] = React.useState({week: 0, group: 0, semester: 0, weekType: \"Чс\"})\n\n    const changeLabelInfo = React.useCallback((id, value) => {\n        const newInfo = groupInfo;\n        switch (id) {\n            case \"input-for-week\":\n                newInfo.week = value;\n                break;\n            case \"input-for-group\":\n                newInfo.group = value;\n                break;\n            case \"input-for-sem\":\n                newInfo.semester = value;\n                break;\n            case \"input-for-week-type\":\n                newInfo.weekType = value;\n                break;\n        }\n        /*if (newInfo.week !== 0 && !isNaN(newInfo.week) && newInfo.weekType !== \"\" && newInfo.semester !== 0\n            && !isNaN(newInfo.semester) && newInfo.group !== 0 && !isNaN(newInfo.group)) {\n            const newLabel = `${newInfo.week}-я Неделя, ${newInfo.weekType}, Группа ИУ10-${newInfo.semester}${newInfo.group}`\n            setLabel(newLabel)\n            getPanelData(newInfo.group, newInfo.semester, newInfo.week, newInfo.weekType)*/\n        if (newInfo.weekType !== \"\" && newInfo.semester !== 0\n            && !isNaN(newInfo.semester) && newInfo.group !== 0 && !isNaN(newInfo.group)) {\n            const newLabel = `Группа ИУ10-${newInfo.semester}${newInfo.group}, ${newInfo.weekType}`\n            setLabel(newLabel)\n            getPanelData(newInfo.group, newInfo.semester, newInfo.week, newInfo.weekType)\n        } else {\n            setLabel(\"\");\n        }\n        setInfo(newInfo);\n    }, [groupInfo, getPanelData])\n\n    return (\n        <div>\n            <div className=\"panel d-flex flex-column\">\n                <div className=\"panel__header\">\n                    Настройка параметров учебной группы\n                    <FontAwesomeIcon icon={faCogs} size={\"lg\"}\n                                     color={\"white\"}/>\n                </div>\n                <div className=\"panel__body\">\n                    {dayIdx !== -1 ?\n                        <ButtonTimetable\n                            onChange={changeDay}\n                            disabled={false}\n                            btn={{id: uuid(), color: \"#4fbfb4\"}}\n                        >\n                            <div className=\"d-flex flex-row flex-nowrap justify-content-around\">\n                                <FontAwesomeIcon icon={faPlus} size={\"lg\"}\n                                                 color={\"white\"}/>\n                                <span\n                                    className=\"DAndD-container__header__text_white\">{Week[dayIdx].day}</span>\n                            </div>\n                        </ButtonTimetable>\n                        : null}\n                    <div className=\"ml-1\">\n                        <InputNumber disabled placeholder=\"Неделя\" id=\"input-for-week\" min={1} max={17}\n                                     onChange={changeLabelInfo} defaultValue={NaN}/>\n                    </div>\n                    <InputNumber placeholder=\"Группа\" id=\"input-for-group\" min={1} max={5} onChange={changeLabelInfo}\n                                 defaultValue={NaN}/>\n                    <InputNumber placeholder=\"Семестр\" id=\"input-for-sem\" min={1} max={12} onChange={changeLabelInfo}\n                                 defaultValue={NaN}/>\n                    <div className=\"mr-1\">\n                        <select id=\"input-for-week-type\" defaultValue={\"1\"} className=\"panel__select\" onChange={(e) => {\n                            changeLabelInfo(\"input-for-week-type\", e.target.value)\n                        }}>\n                            <option value=\"Чс\">Чс</option>\n                            <option value=\"Зн\">Зн</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"panel__footer\">\n                    {panelLabel}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AdminPanel;","import React from \"react\";\nimport {buttonsContent} from \"@config/config\";\n\nimport \"./ButtonsLogo.scss\"\n\nconst classNames = require('classnames/bind');\n\nconst styles = {\n    btn: 'btn-logo',\n    btnXs: 'btn-logo__xs',\n};\n\nconst btnLogo = classNames.bind(styles);\n\ntype Props = {\n    idx: number;\n    xs?: boolean;\n}\n\nconst ButtonsLogo: React.FC<Props> = ({idx, xs}) => {\n    let className = btnLogo({\n        btn: true,\n        btnXs: !!xs\n    });\n\n    return (\n        <div className={className} style={{backgroundColor: buttonsContent[idx].color}}>\n            {buttonsContent[idx].title}\n        </div>\n    )\n}\n\nexport default React.memo(ButtonsLogo);","import React from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faMapMarkerAlt} from \"@fortawesome/free-solid-svg-icons/faMapMarkerAlt\";\n\nimport ButtonsLogo from \"@components/ButtonsLogo/ButtonsLogo\";\n\ntype Props = {\n    isEmpty: boolean;\n    sourceIdx: number;\n    header: string;\n    footer: string;\n}\n\nconst DroppableElem: React.FC<Props> = ({sourceIdx, header, footer, isEmpty}) => {\n    return (\n        <div>\n            <div className=\"DAndD-item__header\">\n                <div className=\"DAndD-item__header__text\">{header}</div>\n            </div>\n            <div className=\"d-flex flex-row justify-content-between\">\n                <ButtonsLogo idx={sourceIdx}/>\n                {isEmpty ? null :\n                    <div className=\"DAndD-item__footer mt-1 mr-1\">\n                        <FontAwesomeIcon className=\"mr-1\" icon={faMapMarkerAlt}/>\n                        <span>{footer}</span>\n                    </div>}\n            </div>\n        </div>\n    )\n}\n\nexport default React.memo(DroppableElem);","import React from \"react\";\nimport {Draggable, Droppable} from \"react-beautiful-dnd\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faBars} from \"@fortawesome/free-solid-svg-icons/faBars\";\n\ntype Props = {\n    droppableColumn: Array<{ props: { btn: { id: string } } }>\n}\n\nconst DraggableArea: React.FC<Props> = ({droppableColumn}) => {\n    return (\n        <Droppable droppableId=\"items\" isDropDisabled={true}>\n            {(provided) => (\n                <div>\n                    <div className=\"DAndD-draggable\"  ref={provided.innerRef}>\n                        {\n                            droppableColumn.map((item, index) => {\n                                return (\n                                    <Draggable\n                                        key={item.props.btn.id}\n                                        draggableId={item.props.btn.id}\n                                        index={index}\n                                    >\n                                        {(provided, snapshot) => (\n                                            <React.Fragment>\n                                                <div ref={provided.innerRef}\n                                                     {...provided.draggableProps}\n                                                     {...provided.dragHandleProps}\n                                                >\n                                                    <div className=\"DAndD-items__column\" style={{\n                                                        border: snapshot.isDragging ?\n                                                            \"1px dashed #000\" : \"1px solid #ddd\"\n                                                    }}>\n                                                        <FontAwesomeIcon className=\"DAndD-items__column__drop ml-1\"\n                                                                         icon={faBars} size={\"lg\"}\n                                                                         style={{color: snapshot.isDragging ? \"#35b8b8\" : \"\"}}/>\n                                                        {item}\n                                                    </div>\n                                                </div>\n                                                {snapshot.isDragging && (\n                                                    <div className=\"DAndD-items__column__dragged\">\n                                                        <div style={{opacity: \"0\"}}>\n                                                            {item}\n                                                        </div>\n                                                    </div>)\n                                                }\n                                            </React.Fragment>\n                                        )}\n                                    </Draggable>)\n                            })}\n                        {provided.placeholder}\n                    </div>\n                </div>\n            )}\n        </Droppable>\n    )\n}\n\nexport default DraggableArea;","import React from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons/faTimes\";\nimport \"./IconPlus.scss\"\n\nconst IconPlus = () => (\n    <FontAwesomeIcon className=\"icon-remover\" icon={faTimes} size={\"sm\"}\n                     color={\"#e85050\"}/>\n)\n\nexport default React.memo(IconPlus);","import React from \"react\";\nimport {Draggable, Droppable} from \"react-beautiful-dnd\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faClock} from \"@fortawesome/free-solid-svg-icons/faClock\";\n\nimport {LessonsTime, Week} from \"@config/config\";\nimport IconPlus from \"@components/IconPlus/IconPlus\";\n\ntype Props = {\n    Lists: object;\n    removeList: (id: number) => void;\n    removeItem: (list: string, id: number) => void;\n}\n\nconst DroppableArea: React.FC<Props> = ({Lists, removeList, removeItem}) => {\n    return (\n        <div>\n            {Object.keys(Lists).map((list) => (\n                <Droppable key={list} droppableId={list}>\n                    {(provided, snapshot) => (\n                        <div className=\"DAndD-container\" ref={provided.innerRef}\n                             style={{border: snapshot.isDraggingOver ? \"3px dashed #000\" : \"3px solid #ddd\"}}>\n                            <div\n                                className=\"DAndD-container__header d-flex flex-row justify-content-between\">\n                                <span className=\"DAndD-container__header__text\">{Week[list].day}</span>\n                                <button type=\"button\"\n                                        className=\"link-button\"\n                                        onClick={() => {\n                                            removeList(parseInt(list))\n                                        }}\n                                        style={{display: Lists[list].length ? \"none\" : \"\"}}\n                                >\n                                    <IconPlus/>\n                                </button>\n                            </div>\n                            <div className=\"DAndD__content\">\n                                {Lists[list].length ? Lists[list].map((item: { id: string }, index: number) => (\n                                        <Draggable key={item.id} draggableId={item.id}\n                                                   index={index}>\n                                            {(provided, snapshot) => (\n                                                <div ref={provided.innerRef} {...provided.draggableProps}\n                                                     style={\n                                                         provided.draggableProps.style\n                                                     }>\n                                                    <div className=\"DAndD-item\"\n                                                         style={{border: snapshot.isDragging ? \"1px dashed #000\" : \"1px solid #ddd\"}} {...provided.dragHandleProps}>\n                                                        <button type=\"button\"\n                                                                className=\"link-button DAndD-item__close icon-red\"\n                                                                onClick={() => {\n                                                                    removeItem(list, index)\n                                                                }}>\n                                                            <IconPlus/>\n                                                        </button>\n                                                        {item}\n                                                        <div\n                                                            className=\"DAndD-item__lessons d-flex flex-row align-items-center\">\n                                                            <FontAwesomeIcon icon={faClock}/>\n                                                            <div className=\"ml-1\">{LessonsTime[index]}</div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </Draggable>)) :\n                                    <div className=\"text-center\">\n                                        <span className=\"text-black-50\">Drop items here</span>\n                                    </div>\n                                }\n                                {provided.placeholder}\n                            </div>\n                        </div>\n                    )}\n                </Droppable>\n            ))}\n        </div>\n    )\n}\n\nexport default DroppableArea;","import {Week} from \"@config/config\";\nimport {v4 as uuid} from \"uuid\";\nimport {makeDelete, makePost} from \"@utils/network\";\nimport {Urls} from \"@config/urls\";\n\nexport const Labels = {'sem': 0, 'lek': 1, 'lr': 2, 'dz': 3, 'rk': 4, 'cons': 5, 'exam': 6, 'free': 7}\nconst LabelsInt = {0: 'sem', 1: 'lek', 2: 'lr', 3: 'dz', 4: 'rk', 5: 'cons', 6: 'exam', 7: 'free'}\n\n\nexport const findNextDay = (Lists: object) => {\n    let idx = 0;\n    const isFull = !Week.some((item) => {\n        if (!Lists[item.id]) {\n            idx = item.id;\n            return true;\n        }\n        return false;\n    })\n    return isFull ? -1 : idx;\n}\n\nexport const reorder = (list: Array<object>, startIndex: number, endIndex: number) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n};\n\nexport const copy = (item: object, destination: Array<object>, droppableIndex: number) => {\n    const destClone = Array.from(destination);\n    destClone.splice(droppableIndex, 0, {...item, id: uuid()});\n\n    return destClone;\n};\n\nexport const checkFill = (header_text: string, footer_text: string): boolean => {\n    return header_text?.length >= 2 && footer_text?.length >= 2\n}\n\nexport const getDayDataFromList = (day: Array<{ id: string, props: any }>) => {\n    return day.map((lesson, index) => ({\n        lesson_order: index + 1,\n        lesson_id: lesson.id,\n        title: lesson.props.header,\n        auditorium: lesson.props.footer,\n        lesson_type: LabelsInt[lesson.props.sourceIdx]\n    }))\n}\n\nconst changeWeekType = (week_type: string) => {\n    return week_type === \"Чc\" ? \"numerator\" : \"denominator\";\n}\n\nconst postWeekData = (week: object, showLabel: (err: any) => void) => {\n    makePost(Urls.timetable.post(), week).then((resp) => {\n        console.log(resp)\n        if (resp.status !== 201) {\n            showLabel({content: \"Не удалось сохранить изменения!\", success: false})\n        } else {\n            showLabel({content: \"Успех!\", success: true})\n        }\n    }).catch(() => {\n        showLabel({content: \"Не удалось сохранить изменения!\", success: false})\n    })\n}\n\nexport const saveTimetable = (Lists: object, deleted: { lessons: Array<string> }, panelData: { group: number; semester: number; week: number; weekType: string },\n                              showLabel: any) => {\n    const week = {\n        group: `IU10-${panelData.semester}${panelData.group}`,\n        week_type: changeWeekType(panelData.weekType),\n        week_number: panelData.weekType === \"Чс\" ? 1 : 2,\n        days: <Array<object>>[]\n    }\n    const idx = Object.keys(Lists)\n    idx.forEach((i) => {\n        week.days.push(\n            {\n                day_order: parseInt(i) + 1,\n                lessons: getDayDataFromList(Lists[i])\n            }\n        )\n    });\n    showLabel({content: \"\", success: false});\n\n    console.log(week)\n\n\n    makeDelete(Urls.timetable.delete(), {lessons_ids: deleted.lessons}).then((response) => {\n        if (response.status === 200) {\n            postWeekData(week, showLabel)\n        } else {\n            showLabel({content: \"Ошибка при удалении записей!\", success: false})\n        }\n    }).catch((err) => {\n        if (err.response && err.response.status === 403) {\n            showLabel({content: \"Недостаточно прав для изменения!\", success: false})\n        } else {\n            showLabel({content: \"Ошибка при удалении записей!\", success: false})\n        }\n    })\n}\n","import React from \"react\";\nimport \"./Card.scss\";\n\ntype Props = {\n    id: number;\n    title: string;\n    currentDay: number;\n    items: Array<React.ReactNode>;\n}\n\nconst Card: React.FC<Props> = ({id, title, currentDay, items}) => {\n    return (\n        <div className=\"Home-Card\">\n            <h5 className=\"Home-Card__title\"\n                style={{backgroundColor: id < currentDay ? \"#b4bdbd\" : \"#5bc3c3\"}}>{title}</h5>\n            <div className=\"list-group Home-Card__list\">\n                {\n                    items?.length > 0 ?\n                    items.map((elem, index) => (\n                    <div key={index} className=\"list-group-item Home-Card-list__item\">{elem}</div>)\n                    ) : <div className=\"list_empty\">Нет расписания</div>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Card;","import React from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faClock} from \"@fortawesome/free-solid-svg-icons/faClock\"\nimport {faMapMarkerAlt} from \"@fortawesome/free-solid-svg-icons/faMapMarkerAlt\"\n\nimport \"./Lesson.scss\";\n\ntype Props = {\n    title: string;\n    time: string,\n    auditorium: string,\n    isEmpty: boolean\n}\n\nconst Lesson: React.FC<Props> = ({title, time, auditorium, isEmpty, children}) => {\n    return (\n        <div className=\"Lesson\">\n            <div className=\"Lesson__header\">\n                <div className=\"Lesson__header__text\">\n                    {title}</div>\n            </div>\n            {children}\n            <div className=\"Lesson__param d-flex flex-row \">\n                {isEmpty ? null :\n                    <div className=\"d-flex flex-row align-items-center\">\n                        <FontAwesomeIcon icon={faMapMarkerAlt}/>\n                        <div className=\"ml-1\">{auditorium}</div>\n                    </div>}\n\n                <div className=\"d-flex justify-content-end w-100\">\n                    <div className=\"d-flex flex-row align-items-center\">\n                        <FontAwesomeIcon icon={faClock}/>\n                        <div className=\"ml-1\">{time}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Lesson;","import React from \"react\";\nimport {TAG_EDUCATIONAL, TAG_GENERAL, TAG_IMPORTANT} from \"@config/config\";\nimport \"./blogTag.scss\"\n\nconst BlogTag = () => {\n    return (\n        <div>\n            <button type=\"button\" className=\"btn-tag btn-tag-general\">#{TAG_GENERAL}</button>\n            <button type=\"button\" className=\"btn-tag btn-tag-important\">#{TAG_IMPORTANT}</button>\n            <button type=\"button\" className=\"btn-tag btn-tag-educational\">#{TAG_EDUCATIONAL}</button>\n        </div>\n    )\n}\n\nexport default BlogTag;","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport IconPlus from \"@components/IconPlus\";\n\ntype Props = {\n    key: string | number,\n    text: string,\n    answers?: [],\n    commentAuthor?: string,\n    viewByAuthor?: boolean,\n    onDeleteClick?: () => void\n}\n\nconst CommentView: React.FC<Props> = ({key, text, answers, commentAuthor, viewByAuthor, onDeleteClick}) => (\n    <div className=\"post-comment\" key={key}>\n        <div className=\"card-header d-flex flex-row justify-content-between\">\n            <div>\n                <img className=\"post-comment-avatar\" src=\"/public/img/hamster.webp\"\n                     alt=\"img not loaded\"/>\n                <Link className=\"ml-3\" to=\"/profile\">Вася Пупкин</Link>\n            </div>\n            <span>\n                <p className=\"date-time grey-text\"> 25 января 2021 г. в 12:58</p>\n                {viewByAuthor ?\n                    <button type=\"button\"\n                            className=\"link-button\"\n                            onClick={onDeleteClick}\n                    >\n                        <IconPlus/>\n                    </button>\n                    : null}\n            </span>\n        </div>\n        <div className=\"card-body\">\n            <div>{text ? <p>{text}</p> :\n                <p>Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n            }</div>\n        </div>\n    </div>\n)\n\nexport default CommentView;","import React from \"react\";\nimport \"./ViewPost.scss\"\nimport BlogTag from \"@components/Blog/blogTag\";\nimport {Link} from \"react-router-dom\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport PostComment from \"@components/PostCommentView\";\nimport Hamster from \"@media/hamster.webp\"\nimport CommentView from \"@components/PostCommentView\";\nimport {Urls} from \"@config/urls\";\n\nlet answersExample = [\n    {text: \"first answer text\"},\n    {text: \"second answer text\"},\n    {text: \"third answer text\"},\n    {text: \"forth answer text\"},\n]\n\n\ntype Props = {\n    id: string | number;\n}\n\ntype Comment = {\n    commentId: string | number,\n    author: string,\n    authorAvatarPath?: string,\n    text: string,\n    date?: string\n}\n\nexport const PostView: React.FC<Props> = ({id}) => {\n    const commentsForm = [\"Комментарий\", \"Комментария\", \"Комментариев\"];\n    const history = useHistory();\n    const location = useLocation();\n    const [isOutputFull, changeOutputFull] = React.useState(location.pathname.includes('/posts'));\n    const [isLiked, changeLiked] = React.useState(false);\n    const [likesCnt, changeLikesCnt] = React.useState(0);\n    const [commentsCnt, changeCommentsCnt] = React.useState(0);\n    const [comments, changeComments] = React.useState<Array<Comment>>([])\n\n\n    const declOfNum = (n: number, text_forms: Array<string>) => {\n        n = Math.abs(n) % 100;\n        let n1 = n % 10;\n        if (n > 10 && n < 20) {\n            return text_forms[2];\n        }\n        if (n1 > 1 && n1 < 5) {\n            return text_forms[1];\n        }\n        if (n1 === 1) {\n            return text_forms[0];\n        }\n        return text_forms[2];\n    }\n\n    const commentsRedirectHandler = () => {\n        if (!isOutputFull) {\n            history.push(`/posts/${id}`)\n        }\n        document.getElementById(\"go-to-comments\")?.click()\n    }\n\n    const addComment = () => {\n        const oldComments = [...comments];\n\n        oldComments.push({authorAvatarPath: \"\", date: \"\", commentId: oldComments.length, text: \"aaaa\", author: \"Vasya\"})\n        changeComments(oldComments);\n    }\n\n    const deleteComment = (commentId: string | number) => {\n        const oldComments = [...comments];\n        const idx = oldComments.findIndex((c) => (c.commentId === commentId))\n        oldComments.splice(idx, 1);\n        changeComments(oldComments);\n    }\n\n\n    return (\n        <div\n            className=\"container-fluid flex-column h-100 justify-content-center align-items-center col-md-10 col-xl-7\">\n            <div className=\"card\">\n                <div className=\"card-header d-flex flex-row justify-content-between\">\n                    {isOutputFull ?\n                        <p className=\"post-title\">Вручение сертификатов семестровых курсов 28 января</p>\n                        :\n                        <Link to={`/posts/${id}`}><p className=\"post-title\">Вручение сертификатов семестровых\n                            курсов 28 января</p></Link>\n                    }\n\n                    <p className=\"date-time grey-text\"> 25 января 2021 г. в 12:58</p>\n                </div>\n                <div className=\"card-body\">\n                    <BlogTag/>\n                    <p className=\"mt-3\">\n                        &nbsp;Поздравляю студентов&nbsp; с окончанием семестровых курсов в\n                        Технопарке!<br/>Мы\n                        знаем, что это было непросто, но все вы – молодцы!&nbsp;<br/>Каждого&nbsp; успешного\n                        выпускника&nbsp; ждет сертификат, который в будущем можно использовать в резюме или\n                        портфолио.<br/><br/>Даже в режиме удаленки&nbsp;мы не просто отправляем сертификаты,\n                        а вручаем их. Поэтому приглашаем всех выпускников на онлайн вручение, которое\n                        начнется в четверг, <strong>28 января, в 16:00.</strong><br/><br/><strong>Программа\n                        мероприятия:</strong><br/>- приветственные слова руководителя департамента\n                        образования Mail.ru Group Анны Степановой,&nbsp;<br/>- специальный гость и\n                        интерактивная часть,&nbsp;<br/>- Андрей Викторович Пролетарский и\n                        преподаватели&nbsp; Технопарка скажут пару напутственных слов,&nbsp;<br/>-&nbsp; я\n                        расскажу вам о тех курсах, которые&nbsp; мы запланировали в семестре Весна -\n                        2021&nbsp;<br/>- вручение сертификатов.<br/><br/>Важно! Бумажную версию сертификата\n                        каждый из вас сможет получить в феврале. Вся информация о выдаче будет на\n                        портале.<br/><br/><strong>Ссылка на подключение:</strong><br/>Мероприятие будет\n                        закрытым и пройдет в любимом Зуме. Ссылка на комнату&nbsp;<a\n                        href=\"https://mailru.zoom.us/j/92900161419?pwd=UFZzbnl3TkgzbXRiWVBaU2txMEtrdz09\"\n                        target=\"_blank\"\n                        rel=\"noopener\">https://mailru.zoom.us/j/92900161419?pwd=UFZzbnl3TkgzbXRiWVBaU2txMEtrdz09</a><br/><br/>Мы\n                        пришлем напоминание и ссылку еще раз в день вручения за пару часов до старта.&nbsp;\n                        <br/>Увидимся!&nbsp;&nbsp;</p>\n                    <footer className=\"grey-text\">\n                        <hr/>\n                        <div className=\"d-flex flex-nowrap flex-row justify-content-between\">\n                            <div className=\"ml-0\">\n                                <img className=\"post-avatar-sm\" src=\"/public/img/hamster.webp\"\n                                     alt=\"img not loaded\"/>\n                                <Link to={Urls.user.getUser(1)}>\n                                    Сергей Козлачков\n                                </Link>\n                            </div>\n\n                            <div className=\"mr-3\">\n                                <a id=\"go-to-comments\" className=\"href-transparent\" href=\"#comments\"/>\n                                <button className=\"btn-post-social\" onClick={commentsRedirectHandler}>\n                                    <i className=\"fa fa-comments fa-lg post-icon-comment\"/></button>\n                                {'5 комментов'}\n                                <button className=\"btn-post-social btn-post-like\"\n                                        onClick={() => {\n                                            changeLiked(!isLiked);\n                                            changeLikesCnt(isLiked ? likesCnt - 1 : likesCnt + 1);\n                                        }}><i\n                                    className=\"fa fa-heart fa-lg post-icon-like\"\n                                    style={isLiked ? {color: \"#ff4a4a\"} : undefined}/></button>\n                                {likesCnt}\n                            </div>\n                        </div>\n                    </footer>\n                </div>\n            </div>\n\n            {isOutputFull ? <div>\n                <button className=\"btn btn-success btn-sm\" onClick={addComment}>comments+\n                </button>\n                <h1 className=\"m-3\">\n                    <span>{commentsCnt} </span>{declOfNum(commentsCnt, commentsForm)}\n                </h1>\n\n                <div data-spy=\"scroll\" data-offset=\"0\">\n                    <div id=\"comments\">\n                        {comments.map((comment) => (\n                            <CommentView key={comment.commentId} text={comment.text} viewByAuthor={true}\n                                         onDeleteClick={() => (deleteComment(comment.commentId))}/>\n                        ))}\n                    </div>\n                    {<div className=\"text-center\">\n                        <button className=\"btn-post-social btn-post-comment blue-color\"\n                                onClick={() => {\n                                    alert(1)\n                                }}>Показать следующие комментарии\n                        </button>\n                    </div>}\n                </div>\n            </div> : null}\n        </div>\n    )\n}\n\nexport default PostView;","import React from \"react\";\nimport { MDBPagination, MDBPageItem, MDBPageNav, MDBCol, MDBRow } from \"mdbreact\";\n\nconst Pagination = () => {\n    return (\n        <MDBRow>\n            <MDBCol>\n                <MDBPagination color=\"teal\" circle>\n                    <MDBPageItem disabled>\n                        <MDBPageNav className=\"page-link\">\n                            <span>First</span>\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem disabled>\n                        <MDBPageNav className=\"page-link\" aria-label=\"Previous\">\n                            <span aria-hidden=\"true\">&laquo;</span>\n                            <span className=\"sr-only\">Previous</span>\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem active>\n                        <MDBPageNav className=\"page-link\">\n                            1 <span className=\"sr-only\">(current)</span>\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem>\n                        <MDBPageNav className=\"page-link\">\n                            2\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem>\n                        <MDBPageNav className=\"page-link\">\n                            3\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem>\n                        <MDBPageNav className=\"page-link\">\n                            4\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem>\n                        <MDBPageNav className=\"page-link\">\n                            5\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem>\n                        <MDBPageNav className=\"page-link\">\n                            &raquo;\n                        </MDBPageNav>\n                    </MDBPageItem>\n                    <MDBPageItem>\n                        <MDBPageNav className=\"page-link\">\n                            Last\n                        </MDBPageNav>\n                    </MDBPageItem>\n                </MDBPagination>\n            </MDBCol>\n        </MDBRow>\n    )\n}\n\nexport default Pagination;\n\n","import React, {Component} from 'react';\nimport ViewPost from \"@components/ViewPost\";\nimport Pagination from \"@components/Pagination\";\n\n\nconst PostsList = () => {\n\n    const [posts, changePosts] = React.useState<Array<React.ReactNode>>([])\n\n    React.useEffect(() => {\n        const oldPosts = [];\n        for (let i = 1; i < 4; ++i) {\n            oldPosts.push(<div className=\"m-3\" key={i}><ViewPost id={i}/></div>)\n        }\n        changePosts(oldPosts)\n    }, [posts]);\n\n    return (\n        <div>\n            <div className=\"container-fluid\">\n                {posts}\n                <div className=\"d-flex flex-center\">\n                    <Pagination/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PostsList;","import React, {useEffect, useState} from \"react\";\n\nimport Card from \"@components/Card\";\nimport Lesson from \"@components/Lesson\";\nimport ButtonsLogo from \"@components/ButtonsLogo\";\n\nimport \"./Home.scss\"\nimport {makeGet} from \"@utils/network\";\nimport {Urls} from \"@config/urls\";\nimport {Labels} from \"@components/DragAndDrop/config\";\nimport {LessonsTime} from \"@config/config\";\nimport PostsList from \"../PostsList\";\n\nconst getWeekData = (): [number, string[], string] => {\n    const date = new Date();\n    const today = date.getDate();\n    const weekDay = (date.getDay() + 6) % 7;\n    const weekAgo = today - weekDay;\n\n    const monthIdx = date.getMonth();\n    const days = [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"];\n    const months = [\"января\", \"февраля\", \"март\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"]\n    const weekType = Math.floor(weekAgo / 7) % 2 === 0 ? \"Зн\" : \"Чс\"\n    return [weekDay, days.map((day, index) => (`${day}, ${weekAgo + index} ${months[monthIdx]}`)), weekType]\n}\n\ntype LessonType = {\n    lesson_id: string;\n    title: string;\n    lesson_type: string;\n    auditorium: string;\n}\n\nconst prepareLessons = (lessons: Array<LessonType>) => {\n    return lessons.map((lesson, index) => (\n        <Lesson title={lesson.title} auditorium={lesson.auditorium} time={LessonsTime[index]}\n                isEmpty={lesson.lesson_type === \"free\"}>\n            <ButtonsLogo xs idx={Labels[lesson.lesson_type]}/>\n        </Lesson>\n    ))\n};\n\nconst prepareWeek = (weekDays: Array<{ day_id: string, day_order: number, lessons: Array<LessonType> }>) => {\n    const newList: Array<Array<React.ReactNode>> = [];\n\n    weekDays.forEach((day, index) => {\n        if (day.lessons) {\n            newList[index] = prepareLessons(day.lessons)\n        } else {\n            newList[index] = []\n        }\n    })\n    return newList\n}\n\nexport const getWeekType = (week_type: string) => {\n    return week_type === \"Чс\" ? 1 : 2\n}\n\nconst Home = () => {\n    const [weekInfo, changeWeekInfo] = useState<{ weekDay: number, days: string[] }>({weekDay: 0, days: []})\n    const [orgInfo, changeOrgInfo] = useState({group: \"\", week_number: 0, week_type: \"Чс\"})\n    const [lessons, changeLessons] = useState<Array<Array<React.ReactNode>>>([])\n\n    useEffect(() => {\n\n        const [weekDay, weekData, weekType] = getWeekData();\n\n        changeWeekInfo({weekDay: weekDay, days: weekData});\n        const userGroup = localStorage.getItem(\"user_group\");\n        if (userGroup) {\n            makeGet(Urls.timetable.get(userGroup, getWeekType(weekType))).then((response) => {\n                console.log(\"Ответ сервера успешно получен!\");\n                const week = response.data.week;\n                const savedWeek = prepareWeek(week.days);\n                changeLessons(savedWeek);\n                changeOrgInfo({group: week.group, week_type: weekType, week_number: week.week_number});\n\n            }).catch((error) => {\n                console.log(error);\n                return;\n            });\n        }\n\n    }, [])\n\n    return (\n        <div>\n            <div className=\"d-flex flex-row justify-content-center align-items-center\">\n                {orgInfo.group !== \"\" ?\n                    <div\n                        className=\"timetable__title\">{`Информация о группе ${orgInfo.group}, ${orgInfo.week_type}`}</div> :\n                    <div className=\"timetable__title\">Вы не прикреплены ни к одной из учебных групп</div>\n                }\n            </div>\n            {orgInfo.group !== \"\" ?\n                <div className=\"Home d-flex flex-row flex-nowrap\">\n                    {weekInfo.days.map((date, index) => (\n                        <Card id={index} key={index} currentDay={weekInfo.weekDay} title={date} items={lessons[index]}/>\n                    ))}\n                </div> : null\n            }\n            <PostsList/>\n        </div>\n    )\n}\n\nexport default React.memo(Home);","import React, {useState} from \"react\";\nimport \"./StatusLabel.scss\"\n\ntype Props = {\n    info: { content: string, success: boolean };\n}\n\n\nconst StatusLabel: React.FC<Props> = ({info}) => {\n    const [shown, isShown] = useState(false);\n\n    React.useEffect(() => {\n        const timer = setTimeout(() => {\n            isShown(false);\n        }, 2000);\n        isShown(info.content !== \"\");\n        return () => clearTimeout(timer);\n    }, [info])\n\n\n    return (\n        <div className=\"StatusLabel\"\n             style={{backgroundColor: info.success ? \"rgba(23,127,19,0.7)\" : \"rgba(175, 37, 37, 0.9)\"}}>\n            {shown ? <div className=\"StatusLabel__content text-center\">\n                <div>{info.content}</div>\n            </div> : null}\n        </div>\n    )\n}\n\nexport default StatusLabel","import React, {useEffect, useState} from \"react\";\nimport {v4 as uuid} from \"uuid\";\nimport {DragDropContext, DropResult} from \"react-beautiful-dnd\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faSave} from \"@fortawesome/free-solid-svg-icons/faSave\";\n\nimport ButtonTimetable from \"@components/ButtonTimetable\";\nimport ButtonWithInput from \"@components/ButtonWithInput\";\nimport AdminPanel from \"@components/AdminPanel\";\n\nimport {buttonsContent, Week} from \"@config/config\";\nimport DroppableElem from \"@components/DragAndDrop/DroppableElem\";\nimport DraggableArea from \"@components/DragAndDrop/DraggableArea\";\nimport DroppableArea from \"@components/DragAndDrop/DroppableArea\";\nimport {findNextDay, copy, reorder, checkFill, saveTimetable, Labels} from \"@components/DragAndDrop/config\";\n\nimport \"./DAndD.scss\"\nimport {makeGet} from \"@utils/network\";\nimport {Urls} from \"@config/urls\";\nimport {getWeekType} from \"../../pages/Home/Home\";\nimport StatusLabel from \"@components/StatusLabel\";\n\ntype Lesson = {\n    lesson_id: string;\n    title: string;\n    lesson_type: string;\n    auditorium: string;\n}\n\nconst prepareLessons = (lessons: Array<Lesson>) => {\n    return lessons.map((lesson) => ({\n        id: lesson.lesson_id, ...<DroppableElem isEmpty={lesson.lesson_type === \"free\"}\n                                                sourceIdx={Labels[lesson.lesson_type]}\n                                                header={lesson.title}\n                                                footer={lesson.auditorium}/>\n    }))\n}\n\n\nconst prepareWeek = (weekDays: Array<{ day_id: string, day_order: number, lessons: Array<Lesson> }>) => {\n    const newList = {};\n\n    weekDays.forEach((day, index) => {\n        if (day.lessons) {\n            newList[index] = prepareLessons(day.lessons)\n        }\n    })\n    return newList\n}\n\n\nconst DragAndDrop = () => {\n    const [err, showLabel] = useState({content: \"\", success: false});\n    const [deleted, changeDeleted] = useState<{ lessons: Array<string> }>({lessons: []});\n    const [Lists, changeList] = useState<object>({0: []});\n    const [dayIdx, changeDayIdx] = useState<number>(1);\n    const [areasValue, setAreasValues] = useState({});\n    const [inputsValue, setValues] = useState({});\n    const [panelData, setPanelData] = useState({group: 0, semester: 0, week: 0, weekType: \"\"});\n\n    useEffect(() => {\n        if (panelData.semester !== 0) {\n            showLabel({content:\"\", success: false})\n            makeGet(Urls.timetable.get(`IU10-${panelData.semester}${panelData.group}`, getWeekType(panelData.weekType))).then((response) => {\n                const savedWeek = prepareWeek(response.data.week.days);\n                changeList(savedWeek);\n                changeDayIdx(findNextDay(savedWeek));\n            }).catch((error) => {\n                showLabel({content:\"Указанная группа не найдена\", success: false})\n                changeList({0: []});\n                return;\n            });\n        }\n    }, [panelData])\n\n    const changeArea = React.useCallback((id: string, value: string) => {\n        const oldAreas = areasValue;\n        oldAreas[id] = value;\n        setAreasValues(oldAreas);\n    }, [areasValue]);\n\n    const changeInput = React.useCallback((id: string, value: string) => {\n        const oldInputs = inputsValue;\n        oldInputs[id] = value;\n        setValues(oldInputs);\n    }, [inputsValue]);\n\n    const droppableColumn = React.useMemo(() => (buttonsContent.map((btn, idx) => (\n        <ButtonWithInput key={idx} btn={btn} onAreaChange={changeArea} onInputChange={changeInput}\n                         inputs={{maxInputLength: 5, maxAreaLength: 50}}/>\n    ))), [changeInput, changeArea])\n\n    const onDragEnd = React.useCallback((result: DropResult) => {\n        const {source, destination} = result;\n\n        if (!destination) {\n            return;\n        }\n        const newList = {...Lists};\n\n        switch (source.droppableId) {\n            case destination.droppableId:\n                if (destination.droppableId === \"items\") {\n                    return;\n                }\n                newList[destination.droppableId] = reorder(\n                    Lists[source.droppableId],\n                    source.index,\n                    destination.index\n                )\n                break;\n            case \"items\":\n                if (Lists[destination.droppableId].length === Week.length) {\n                    return;\n                }\n                const title = areasValue[buttonsContent[source.index].id];\n                const auditorium = inputsValue[buttonsContent[source.index].id];\n                const isEmpty = buttonsContent[source.index].title === \"СР\";\n\n                if (!isEmpty && !checkFill(title, auditorium)) {\n                    return;\n                }\n\n                const draggable = <DroppableElem isEmpty={isEmpty} sourceIdx={source.index}\n                                                 header={isEmpty ? \"Самостоятельная работа\" : title}\n                                                 footer={auditorium}/>\n\n                newList[destination.droppableId] = copy(\n                    draggable,\n                    newList[destination.droppableId],\n                    destination.index\n                )\n                break;\n        }\n        changeList(newList);\n        console.log(Lists)\n    }, [Lists, areasValue, inputsValue]);\n\n    const AddList = React.useCallback(() => {\n        const idx = findNextDay(Lists)\n        if (idx === -1) {\n            return;\n        }\n        const newList = {...Lists};\n        newList[idx] = [];\n        changeList(newList);\n        changeDayIdx(findNextDay(newList));\n    }, [Lists]);\n\n    const removeItem = React.useCallback((list: string, index: number) => {\n        const newList = {...Lists};\n        const id: string = newList[list][index].id\n        const deletedLessons: Array<string> = [...deleted.lessons]\n        deletedLessons.push(id)\n        changeDeleted({lessons: deletedLessons});\n        newList[list].splice(index, 1);\n        changeList(newList);\n    }, [Lists, deleted.lessons]);\n\n    const removeList = React.useCallback((list: number) => {\n        const newList = {...Lists};\n        delete newList[list];\n        changeList(newList);\n        const idx = findNextDay(newList);\n        changeDayIdx(idx);\n    }, [Lists]);\n\n    const getPanelDataHandler = React.useCallback((group: number, semester: number, week: number, weekType: string) => {\n        setPanelData({group: group, semester: semester, week: week, weekType: weekType})\n    }, [])\n\n    return (\n        <div className=\"DAndD text-center\">\n            <StatusLabel info={err}/>\n            <div className=\"d-flex flex-row\">\n                <div className=\"d-none d-sm-block col-sm-4 col-md-5\"/>\n                <div className=\"col-md-7\">\n                    <AdminPanel dayIdx={dayIdx} changeDay={AddList} getPanelData={getPanelDataHandler}/>\n                </div>\n            </div>\n            <hr/>\n            <div className=\"d-flex flex-row\">\n                <DragDropContext onDragEnd={onDragEnd}>\n                    <div className=\"col-5\">\n                        <DroppableArea Lists={Lists} removeList={removeList} removeItem={removeItem}/>\n                    </div>\n                    <div className=\"col-7 d-flex\">\n                        <DraggableArea droppableColumn={droppableColumn}/>\n                    </div>\n                </DragDropContext>\n            </div>\n            <hr/>\n            <div>\n                <ButtonTimetable\n                    onChange={() => {\n                        saveTimetable(Lists, deleted, panelData, showLabel)\n                        //history.replace(Urls.timetable.byId)\n                    }}\n                    btn={{id: uuid(), color: \"#36a51c\"}}\n                >\n                    <div className=\"d-flex flex-row align-items-center justify-content-around\">\n                        <FontAwesomeIcon icon={faSave} size={\"sm\"}/>\n                        <div>Save</div>\n                    </div>\n                </ButtonTimetable>\n            </div>\n\n        </div>\n    );\n}\n\nexport default DragAndDrop;\n","import React from \"react\";\n\nimport DragAndDrop from \"@components/DragAndDrop\";\nimport \"./timetable.scss\"\n\n\n\nconst Timetable = () => {\n    return (\n       <div>\n           <DragAndDrop/>\n       </div>\n    )\n\n}\n\nexport default React.memo(Timetable);\n","import React from \"react\";\nimport {useHistory} from \"react-router-dom\";\n\nimport {Urls} from \"@config/urls\";\n\nimport \"./NotFound.scss\"\n\nconst NotFoundPage = () => {\n    const history = useHistory()\n\n    const homeRedirectHandler = React.useCallback(() => {\n        history.replace(Urls.timetable.slugRoot)\n    }, [history]);\n\n    return (\n        <div className=\"notFound\">\n            <div className=\"overlay\"/>\n            <div className=\"terminal\">\n                <h1>Error <span className=\"errCode\">404</span></h1>\n                <p className=\"output\">The page you are looking for might have been removed, had its name changed or is\n                    temporarily unavailable.</p>\n                <p className=\"output\">Please try to\n                    <button type=\"button\"\n                            className=\"link-button notFound__back\"\n                            onClick={history.goBack}>\n                        go back</button> or\n                    <button type=\"button\"\n                            className=\"link-button notFound__back\"\n                            onClick={homeRedirectHandler}>\n                        return to the homepage</button>.\n                </p>\n                <p className=\"output\">Good luck.</p>\n            </div>\n        </div>\n    )\n}\n\nexport default React.memo(NotFoundPage);","import React from \"react\";\n\nimport \"./AutoInput.scss\"\n\ntype Props = {\n    id: string;\n    list: Array<string>;\n    className: string;\n    inputProps: any;\n    //autoCompete: boolean,\n}\nconst AutoInput: React.FC<Props> = ({id, className, list,inputProps}) => {\n    React.useEffect(() => {\n        const dataList = document.createElement(\"datalist\");\n        const input = document.getElementById(id);\n        dataList.setAttribute('id', `datalist-${id}`);\n        list.forEach((option) => {\n            const dataListOption = document.createElement(\"option\");\n            dataListOption.value = option;\n            dataList.appendChild(dataListOption);\n        });\n        input?.appendChild(dataList);\n    }, [id, list])\n\n    return (\n        <input className={className} id={id} type=\"text\"\n               list={`datalist-${id}`}\n               {...inputProps}\n        />\n    )\n}\n\nexport default AutoInput;","const MaxDisciplineLength = 25;\nconst MinDisciplineLength = 3;\nconst ERROR_TAG_FIELD = `Длина дисциплины должна быть от ${MinDisciplineLength} до ${MaxDisciplineLength} символов.`;\nconst ERROR_TAG_DUPLICATE = `Введенная дисциплина уже закреплена за преподавателем.`\n\nexport const isTagValid = (tags: Array<{ id: string, content: string }>, tagInfo: { content: string, noFocus: boolean, errMsg: string }) => {\n    const length = tagInfo.content.length;\n\n    tagInfo.errMsg = length < MinDisciplineLength || length > MaxDisciplineLength ? ERROR_TAG_FIELD : \"\";\n    tags.forEach((tag) => {\n        if (tag.content === tagInfo.content) {\n            tagInfo.errMsg = ERROR_TAG_DUPLICATE;\n            return;\n        }\n    })\n    return tagInfo.errMsg;\n}","import React, {useState} from \"react\";\nimport \"./Tags.scss\"\nimport IconPlus from \"@components/IconPlus\";\nimport StatusLabel from \"@components/StatusLabel\";\nimport AuthError from \"@components/AuthError/AuthError\";\nimport AutoInput from \"@components/AutoCompleteInput\";\nimport {isTagValid} from \"@components/Tags/config\";\nimport {v4 as uuid} from \"uuid\";\n\ntype Props = {\n    placeholder?: string;\n    tags: Array<{ id: string, content: string }>;\n    selectList: Array<string>;\n    changeTags: (tagsOld: Array<{ id: string, content: string }>) => void;\n}\n\nconst Tags: React.FC<Props> = ({tags, changeTags, placeholder, selectList}) => {\n    const [tagInput, setTagInp] = React.useState({content: \"\", noFocus: true, errMsg: \"\"})\n    const [label, showLabel] = useState({content: \"\", success: false});\n\n    const handleInput = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        const tagInfo = {...tagInput};\n        tagInfo.content = e.target.value;\n        tagInfo.errMsg = isTagValid(tags, tagInfo);\n        tagInfo.noFocus = false;\n        setTagInp(tagInfo);\n    }, [tagInput, tags]);\n\n    const handleBlur = React.useCallback(() => {\n        const tagInfo = {...tagInput};\n\n        if (tags.length > 0 && tagInfo.content === \"\") {\n            tagInfo.errMsg = \"\";\n        }\n        tagInfo.noFocus = true;\n        setTagInp(tagInfo);\n    }, [tagInput, tags]);\n\n    const handleDelete = React.useCallback((id: string | number) => {\n        const tagsOld = [...tags];\n        const tagId = tagsOld.findIndex((obj) => (obj.id === id))\n        tagsOld.splice(tagId, 1);\n        changeTags(tagsOld);\n    }, [changeTags, tags]);\n\n\n    const addTag = React.useCallback(() => {\n        const tagsOld = [...tags];\n        const tagOld = {...tagInput};\n        const id = `tag-${uuid()}`;\n\n        if (tagInput.content === '') {\n            showLabel({content: 'Введите дисциплину!', success: false})\n            return;\n        }\n        if (tagInput.errMsg !== \"\") {\n            return;\n        }\n        tagsOld.push({id: id, content: tagInput.content})\n        changeTags(tagsOld)\n        tagOld.content = \"\";\n        setTagInp(tagOld);\n    }, [tags, tagInput, changeTags])\n\n    return (\n        <div>\n            <StatusLabel info={label}/>\n            <div className=\"mb-2\">{tags.map((tag) => (\n                <div className=\"tag\" key={tag.id}>\n                    <div className=\"tag-block\">\n                        {tag.content}\n                    </div>\n                    <button className=\"btn-delete\" onClick={() => handleDelete(tag.id)}><IconPlus/></button>\n                </div>\n            ))}</div>\n            {(tagInput.noFocus && tagInput.errMsg) &&\n            <AuthError msg={tagInput.errMsg}/>}\n            <div className=\"d-flex flex-row align-items-center\">\n                <AutoInput id=\"input-auto_tag\" className=\"users-control_input\"\n                           list={selectList}\n                           inputProps={{\n                               value: tagInput.content,\n                               onChange: handleInput,\n                               onBlur: handleBlur,\n                               placeholder: placeholder\n                           }}\n                />\n                <button type=\"button\" onClick={addTag} className=\"tag-btn ml-1\">+</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Tags;","import generatePassword from \"password-generator\";\n\nexport const MIN_SNP = 2;\nexport const MAX_SNP = 20;\nexport const MAX_ABOUT = 256;\nexport const ERROR_NAME_FIELD = `Длина имени от ${MIN_SNP} до ${MAX_SNP} символов, допускаются только русские буквы.`;\nexport const ERROR_SURNAME_FIELD = `Длина фамилии от ${MIN_SNP}  до ${MAX_SNP} символов, допускаются только русские буквы.`;\nexport const ERROR_PATRONYMIC_FIELD = `Длина отчества от ${MIN_SNP}  до ${MAX_SNP} символов, допускаются только русские буквы.`;\nexport const ERROR_PHONE_FIELD = \"Неверный номер телефона.\";\nexport const ERROR_EMAIL_FIELD = \"Неверный email.\";\nexport const ERROR_ABOUT_FIELD = `Максимальная длина описания ${MAX_ABOUT} символов.`;\n\n\nexport const btnPasswd =\n    {\n        id: \"btn-passwd-generator\",\n        title: \"+\",\n        color: \"#4db6ac\",\n        genPasswd: (len: number) => (generatePassword(len, false, /[\\w\\d?-]/))\n    }\n\nexport const saveUser = (userInfo: object, showLabel: any) => {\n    showLabel({content: \"a\", success: false});\n}\n\nexport const checkRussian = (str: string): boolean => {\n    return /^[а-яА-ЯЁё]+$/.test(str);\n}\n\nexport const isValid = (userValid: {}): boolean => {\n    let isFormValid = true;\n    Object.keys(userValid).forEach((key) => {\n        if (userValid[key].msg !== \"\") {\n            isFormValid = false;\n            return false;\n        }\n    })\n    return isFormValid;\n}\n\nexport const notEmpty = (user: {}, canBeEmpty?: Array<string>): boolean => {\n    let noEmptyFields = true;\n    Object.keys(user).forEach((key) => {\n        const field = user[key].toString();\n        if (field === \"\" || field === \"NaN\") {\n            if (canBeEmpty?.includes(key)) {\n            } else {\n                console.log(key)\n                noEmptyFields = false;\n                return false;\n            }\n\n        }\n    })\n    return noEmptyFields;\n}","import React, {useEffect, useState} from 'react';\nimport {MDBDataTable} from 'mdbreact';\n\nimport StatusLabel from \"@components/StatusLabel\";\nimport {makeGet} from \"@utils/network\";\n\nimport \"./userTables.scss\"\nimport {USER_TYPE_PROFESSOR, USER_TYPE_STUDENT} from \"../../Authorization/config\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faRedoAlt} from \"@fortawesome/free-solid-svg-icons/faRedoAlt\";\n\ntype PropsData = {\n    columns: {\n        label?: string;\n        field?: string;\n        sort?: string;\n        width?: number;\n        searchable?: boolean;\n        [rest: string]: any;\n    }[];\n    rows: {\n        clickEvent: () => void;\n        [rest: string]: any;\n    }[];\n}\n\ntype resp = {\n    [rest: string]: any;\n}\n\n\ntype Props = {\n    url: string,\n    id: number,\n    title: string,\n    userType: string,\n    rowClickEvent: (user: resp) => void,\n};\n\nconst UsersTable: React.FC<Props> = ({title, url, userType, rowClickEvent}) => {\n    const [err, showLabel] = useState({content: \"\", success: false});\n    const [needDownload, setDownload] = useState(false);\n    const [timerRedo, setTimerRedo] = useState(-1);\n    const [isReady, setReady] = useState(true);\n    const [data, setData] = useState<PropsData>({columns: [], rows: []});\n\n    const handleClick = React.useCallback(() => {\n        setDownload(true);\n    }, []);\n\n\n    useEffect(() => {\n        if (needDownload && timerRedo !== 0) {\n            setReady(false);\n            const timer = setTimeout(() => {\n                makeGet(url).then((response) => {\n                    if (response && response.data && response.data.users) {\n                        setData(responseConverter(response.data.users, userType));\n                    } else {\n                        showLabel({content: \"Ничего не найдено\", success: false});\n                    }\n                }).catch((error) => {\n                    showLabel({content: \"Ошибка сервера. Попробуйте позже\", success: false});\n                }).finally(() => setReady(true))\n            }, 500);\n            return () => clearTimeout(timer);\n        }\n    }, [needDownload, url, userType, timerRedo]);\n\n    const responseConverter = (data: Array<resp>, userType: string) => {\n        const tableDataTemplate = {\n            columns: [\n                {\n                    label: 'Фамилия',\n                    field: 'surname',\n                    sort: 'asc',\n                },\n                {\n                    label: \"Имя\",\n                    field: 'name',\n                    sort: 'asc',\n                },\n                {\n                    label: 'Отчество',\n                    field: 'patronymic',\n                    sort: 'asc',\n                },\n                {\n                    label: 'Email',\n                    field: 'email',\n                    sort: 'asc',\n                },\n                {\n                    label: 'Телефон',\n                    field: 'phone',\n                    sort: 'asc',\n                },\n            ],\n            rows: data.map((user) => ({\n                name: user.name,\n                surname: user.surname,\n                patronymic: user.patronymic,\n                email: user.email,\n                phone: user.phone,\n                group: user.student_group,\n                disciplines: user.prof_disciplines_str.substring(1, user.prof_disciplines_str.length - 1).split(\",\").join(\", \"),\n                about: user.about,\n                clickEvent: () => rowClickEvent(user)\n            }))\n        };\n\n        if (userType === USER_TYPE_STUDENT) {\n            tableDataTemplate.columns.push({\n                label: 'Учебная группа',\n                field: 'group',\n                sort: 'asc',\n            });\n        } else if (userType === USER_TYPE_PROFESSOR) {\n            tableDataTemplate.columns.push({\n                label: 'Дисциплины',\n                field: 'disciplines',\n                sort: 'asc',\n            }, {\n                label: 'Описание',\n                field: 'about',\n                sort: 'asc',\n            });\n        }\n        return tableDataTemplate;\n    }\n\n    const handleRedo = React.useCallback(() => {\n        console.log(timerRedo)\n        if (timerRedo > 0) {\n            return;\n        }\n        setTimerRedo(window.setTimeout(() => {\n            setTimerRedo(0);\n        }, 3000));\n\n    }, [timerRedo]);\n\n    return (\n        <div className=\"users-table\">\n            <StatusLabel info={err}/>\n            <div className=\"panel__header\">\n                <div>{title}</div>\n                {needDownload ?\n                    <button type=\"button\" onClick={handleRedo} disabled={timerRedo !== 0 && timerRedo !== -1}\n                            className=\"tag-btn users-table__redo ml-1\">\n                        <FontAwesomeIcon className=\"icon-reload\"\n                                         icon={faRedoAlt}\n                                         size={\"sm\"}\n                                         color={\"#ffffff\"}/>\n                    </button> : null}\n            </div>\n            <div className=\"users-table__body p-1\">\n                {!isReady ?\n                    <i className=\"fa fa-spinner fa-spin fa-2x fa-fw\"/> : null}\n                {isReady && needDownload ? <MDBDataTable\n                    className=\"users-table\"\n                    data={data}\n                    hover\n                    striped\n                    infoLabel={[\"Показано с\", \"по\", \"из\", \"записей\"]}\n                    paginationLabel={[\"Назад\", \"Вперед\"]}\n                    noRecordsFoundLabel=\"Ничего не найдено\"\n                    bordered\n                    responsive\n                    small>\n                </MDBDataTable> : null}\n                {!needDownload ?\n                    <button className=\"btn btn-link btn-download\" onClick={handleClick}>Загрузить данные</button> : null\n                }\n            </div>\n\n\n        </div>\n    );\n}\n\nexport default UsersTable;\n","import React, {useCallback, useState} from \"react\";\nimport \"./UsersControl.scss\"\nimport InputNumber from \"@components/InputNumber\";\nimport Tags from \"@components/Tags\";\nimport StatusLabel from \"@components/StatusLabel\";\nimport {\n    btnPasswd, checkRussian, ERROR_ABOUT_FIELD,\n    ERROR_NAME_FIELD,\n    ERROR_PATRONYMIC_FIELD, ERROR_PHONE_FIELD,\n    ERROR_SURNAME_FIELD, isValid, MAX_ABOUT,\n    MAX_SNP,\n    MIN_SNP, notEmpty,\n} from \"./config\";\n\nimport {makeGet, makePost, makePut} from \"@utils/network\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faRedoAlt} from \"@fortawesome/free-solid-svg-icons/faRedoAlt\";\nimport UsersTable from \"./usersTables\";\nimport {Urls} from \"@config/urls\";\nimport AuthError from \"@components/AuthError/AuthError\";\nimport {ERROR_EMAIL_FIELD, USER_TYPE_METHODIST, USER_TYPE_PROFESSOR, USER_TYPE_STUDENT} from \"../Authorization/config\";\nimport {v4 as uuid} from \"uuid\";\n\ntype UserProps = {\n    id: string,\n    role: string,\n    email: string,\n    phone: string,\n    name: string,\n    surname: string,\n    patronymic: string,\n    password: string,\n    about: string,\n    disciplines: Array<{ id: string, content: string }>,\n    group: number,\n    sem: number\n}\n\nconst InitialUser = {\n    id: \"\",\n    role: USER_TYPE_STUDENT,\n    email: \"\",\n    phone: \"\",\n    name: \"\",\n    surname: \"\",\n    patronymic: \"\",\n    password: \"\",\n    about: \"\",\n    disciplines: [],\n    group: NaN,\n    sem: NaN\n};\n\nconst UsersControl = () => {\n    const [label, showLabel] = useState({content: \"\", success: false});\n    const [inputPasswd, setInputPasswd] = useState<HTMLInputElement | null>(null);\n    const [userInfo, setUserInfo] = useState<UserProps>(InitialUser);\n    const [timer, setTimer] = useState(0);\n    const [disciplines, setDisciplines] = useState<Array<{ discipline_id: number, discipline_content: string, prof_cnt: number }>>([]);\n    const [isDataForEdit, changeEditFlag] = useState({wasEdit: false, oldPhone: \"\", oldEmail: \"\"});\n    const [btnText, setBtnText] = useState(\"Сохранить\")\n\n    const [userValid, setUserValid] = useState({\n        role: {noFocus: false, msg: \"\"},\n        email: {noFocus: false, msg: \"\"},\n        phone: {noFocus: false, msg: \"\"},\n        name: {noFocus: false, msg: \"\"},\n        surname: {noFocus: false, msg: \"\"},\n        patronymic: {noFocus: false, msg: \"\"},\n        password: {noFocus: false, msg: \"\"},\n        about: {noFocus: false, msg: \"\"},\n    });\n\n    React.useEffect(() => {\n        const inputElem = document.getElementById(\"input-password\") as HTMLInputElement;\n\n        setInputPasswd(inputElem);\n        if (userInfo.role === USER_TYPE_PROFESSOR) {\n            makeGet(Urls.discipline.getAll()).then((resp) => {\n                if (resp.status === 200) {\n                    if (resp.data && resp.data.disciplines && resp.data.disciplines.length > 0) {\n                        setDisciplines(resp.data.disciplines)\n                    }\n                }\n            }).catch((err) => {\n                showLabel({content: \"Не удалось загрузить список дисциплин.\", success: false})\n            })\n        }\n    }, [userInfo.role])\n\n    const handleSubmit = useCallback(() => {\n        let fieldsCanBeEmpty = [\"about\", \"sem\", \"group\"];\n\n        if (!isValid(userValid)) {\n            showLabel({content: \"Заполните поля корректно.\", success: false});\n            return;\n        }\n\n        if (userInfo.role === USER_TYPE_METHODIST) {\n            fieldsCanBeEmpty.push(\"disciplines\");\n        } else if (userInfo.role === USER_TYPE_STUDENT) {\n            fieldsCanBeEmpty = [\"about\", \"disciplines\"];\n        }\n\n        if (isDataForEdit.wasEdit) {\n            fieldsCanBeEmpty.push(\"password\");\n        } else {\n            fieldsCanBeEmpty.push(\"id\");\n        }\n\n        console.log(userInfo)\n        if (!notEmpty(userInfo, fieldsCanBeEmpty)) {\n            showLabel({content: \"Заполните пустые поля.\", success: false});\n            return;\n        }\n\n        const newUser = {\n            id: userInfo.id,\n            role: userInfo.role.trim(),\n            password: userInfo.password,\n            name: userInfo.name.trim(),\n            surname: userInfo.surname.trim(),\n            patronymic: userInfo.patronymic.trim(),\n            email: userInfo.email.trim(),\n            phone: userInfo.phone.trim(),\n            student_group: userInfo.role === USER_TYPE_STUDENT ? `${userInfo.sem}${userInfo.group}` : \"\",\n            prof_disciplines: userInfo.disciplines.map((dis) => (dis.content)),\n        }\n\n        console.log(userInfo.id)\n\n        if (isDataForEdit.wasEdit) {\n            makePut(Urls.user.postCreate(), newUser).then((resp) => {\n                if (resp.status === 201) {\n                    showLabel({content: \"Успех!\", success: true});\n                    setUserInfo(InitialUser);\n                    changeEditFlag({wasEdit: false, oldEmail: \"\", oldPhone: \"\"});\n                    setBtnText(\"Сохранить\")\n                }\n            }).catch((err) => {\n                if (err && err.response && err.response.status === 409) {\n                    showLabel({\n                        content: \"Пользователь с данным email или телефоном уже зарегистрирован.\",\n                        success: false\n                    });\n                } else {\n                    showLabel({content: \"Ошибка сервера. Попробуйте позже.\", success: false});\n                }\n            });\n        } else {\n            makePost(Urls.user.postCreate(), newUser).then((resp) => {\n                if (resp.status === 201) {\n                    showLabel({content: \"Успех!\", success: true});\n                    setUserInfo(InitialUser);\n                    changeEditFlag({wasEdit: false, oldEmail: \"\", oldPhone: \"\"});\n                    setBtnText(\"Сохранить\")\n                }\n            }).catch((err) => {\n                if (err && err.response && err.response.status === 409) {\n                    showLabel({\n                        content: \"Пользователь с данным email или телефоном уже зарегистрирован.\",\n                        success: false\n                    });\n                } else {\n                    showLabel({content: \"Ошибка сервера. Попробуйте позже.\", success: false});\n                }\n            });\n        }\n\n\n    }, [userValid, userInfo, isDataForEdit]);\n\n\n    const handlePassword = useCallback(() => {\n        const oldUser = {...userInfo};\n\n        if (inputPasswd) {\n            if (timer !== 0) {\n                clearTimeout(timer);\n            }\n            setTimer(window.setTimeout(() => {\n                inputPasswd.type = \"password\";\n                clearTimeout(timer);\n            }, 2000));\n            inputPasswd.type = \"text\";\n        }\n        oldUser.password = btnPasswd.genPasswd(15);\n        setUserInfo(oldUser);\n    }, [inputPasswd, timer, userInfo]);\n\n    const handleBlur = useCallback(() => {\n        const oldUserValid = {...userValid};\n\n        Object.keys(oldUserValid).forEach((key) => {\n            oldUserValid[key].noFocus = true;\n            if (userInfo[key] === \"\") {\n                oldUserValid[key].msg = \"\";\n            }\n        });\n\n        setUserValid(oldUserValid);\n    }, [userInfo, userValid]);\n\n\n    const handleUserInfo = useCallback((e: React.ChangeEvent<HTMLSelectElement> | React.ChangeEvent<HTMLInputElement>) => {\n        const oldUser = {...userInfo};\n        const oldUserValid = {...userValid};\n        const value = e.target.value;\n        const length = value.length;\n\n        if (isDataForEdit.wasEdit) {\n            setBtnText(\"Редактировать\");\n        } else {\n            setBtnText(\"Сохранить\");\n        }\n\n        switch (e.target.id) {\n            case \"input-name\":\n                oldUserValid.name.msg = length < MIN_SNP || length >= MAX_SNP || !checkRussian(value) ? ERROR_NAME_FIELD : \"\"\n                oldUserValid.name.noFocus = false;\n                oldUser.name = value;\n                break;\n            case \"input-surname\":\n                oldUserValid.surname.msg = length < MIN_SNP || length >= MAX_SNP || !checkRussian(value) ? ERROR_SURNAME_FIELD : \"\"\n                oldUserValid.surname.noFocus = false;\n                oldUser.surname = value;\n                break;\n            case \"input-patronymic\":\n                oldUserValid.patronymic.msg = length < MIN_SNP || length >= MAX_SNP || !checkRussian(value) ? ERROR_PATRONYMIC_FIELD : \"\"\n                oldUserValid.patronymic.noFocus = false;\n                oldUser.patronymic = value;\n                break;\n            case \"input-password\":\n                oldUserValid.patronymic.msg = length < MIN_SNP || length >= MAX_SNP ? ERROR_PATRONYMIC_FIELD : \"\"\n                oldUserValid.patronymic.noFocus = false;\n                oldUser.password = value;\n                break;\n            case \"select-usertype\":\n                oldUser.role = value;\n                break;\n            case \"input-email\":\n                const reEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n                oldUserValid.email.msg = !reEmail.test(String(value).toLowerCase()) ? ERROR_EMAIL_FIELD : \"\";\n                oldUserValid.email.noFocus = false;\n                oldUser.email = value;\n                if (value === isDataForEdit.oldEmail) {\n                    setBtnText(\"Редактировать\");\n                } else {\n                    changeEditFlag({wasEdit: false, oldEmail: oldUser.email, oldPhone: isDataForEdit.oldPhone});\n                    setBtnText(\"Сохранить\");\n                }\n                break;\n            case \"input-phone\":\n                const rePhone = /^[\\d]{1} \\([\\d]{2,3}\\) [\\d]{2,3}-[\\d]{2,3}-[\\d]{2,3}$/;\n                oldUserValid.phone.msg = !rePhone.test(String(value).toLowerCase()) ? ERROR_PHONE_FIELD : \"\";\n                oldUserValid.phone.noFocus = false;\n\n                let telephone = \"\";\n                let numbersOld = oldUser.phone.replace(/\\D/g, \"\").split('');\n                const numbersNew = value.replace(/\\D/g, \"\").split('');\n\n                if (numbersOld.length === numbersNew.length && telephone.length < value.length) {\n                    telephone = value;\n                } else {\n                    for (let i = 0; i < 11 && i < numbersNew.length; ++i) {\n                        if (i === 4) {\n                            telephone += \") \";\n                        } else if (i === 7 || i === 9) {\n                            telephone += \"-\";\n                        }\n                        telephone += numbersNew[i];\n                        if (i === 0) {\n                            telephone += \" (\";\n                        }\n                    }\n                }\n\n                oldUser.phone = telephone.trim();\n                if (oldUser.phone === isDataForEdit.oldPhone) {\n                    setBtnText(\"Редактировать\");\n                } else {\n                    changeEditFlag({wasEdit: false, oldEmail: isDataForEdit.oldEmail, oldPhone: oldUser.phone});\n                    setBtnText(\"Сохранить\");\n                }\n                break;\n            case \"input-about\":\n                oldUserValid.about.msg = length > MAX_ABOUT ? ERROR_ABOUT_FIELD + ` (${length})` : \"\";\n                oldUserValid.about.noFocus = false;\n                oldUser.about = value;\n                break;\n        }\n        setUserInfo(oldUser);\n        setUserValid(oldUserValid);\n    }, [isDataForEdit, userInfo, userValid]);\n\n    const handleInputId = useCallback((id: string, value: number) => {\n        const oldUser = {...userInfo};\n\n        if (id === \"input_nmb_sem\") {\n            oldUser.sem = value;\n        } else {\n            oldUser.group = value;\n        }\n        setUserInfo(oldUser);\n    }, [userInfo]);\n\n    const handleUserEdit = React.useCallback((user: any) => {\n        let sem = NaN;\n        let group = NaN;\n        //console.log(user.student_group)\n        if (user.student_group.length === 3) {\n            sem = user.student_group.slice(0, 2);\n            group = user.student_group[2];\n        } else if (user.student_group.length === 2) {\n            sem = user.student_group[0];\n            group = user.student_group[1];\n        }\n\n        const prepareUser = {\n            id: user.id,\n            role: user.role,\n            email: user.email,\n            phone: user.phone,\n            name: user.name,\n            surname: user.surname,\n            patronymic: user.patronymic,\n            password: \"\",\n            about: user.about,\n            disciplines: user.prof_disciplines_str.substring(1, user.prof_disciplines_str.length - 1).split(\",\").map((d: string) => ({\n                id: `tag-${uuid()}`,\n                content: d\n            })),\n            group: group,\n            sem: sem\n        }\n\n        changeEditFlag({wasEdit: true, oldEmail: user.email, oldPhone: user.phone});\n        setBtnText(\"Редактировать\");\n        setUserInfo(prepareUser);\n    }, []);\n\n    const defineRole = () => {\n        if (userInfo.role === USER_TYPE_STUDENT) {\n            return (\n                <div>\n                    <div className=\"d-flex justify-content-center\">\n                        <div className=\"mr-1\">\n                            <InputNumber placeholder={\"Сем\"} onChange={handleInputId} id={\"input_nmb_sem\"} min={1}\n                                         max={12} defaultValue={userInfo.sem}/>\n                        </div>\n                        <div className=\"ml-1\">\n                            <InputNumber placeholder={\"Группа\"} onChange={handleInputId} id={\"input_nmb_group\"} min={1}\n                                         max={5} defaultValue={userInfo.group}/>\n                        </div>\n                    </div>\n                    {!isNaN(userInfo.sem) && !isNaN(userInfo.group) ?\n                        <div className=\"IU\">{`Группа: ИУ10-${userInfo.sem}${userInfo.group}`}</div> : null}\n                </div>\n            )\n        } else if (userInfo.role === USER_TYPE_PROFESSOR) {\n            return (\n                <div>\n                    <div className=\"users-control_label\">Дисциплина</div>\n                    <Tags tags={userInfo.disciplines}\n                          selectList={disciplines.map(d => (d.discipline_content))}\n                          changeTags={(newTags) => {\n                              const oldInfo = {...userInfo};\n                              oldInfo.disciplines = newTags;\n                              setUserInfo(oldInfo);\n                          }\n                          }/>\n                    {(userValid.about.noFocus && userValid.about.msg) &&\n                    <AuthError msg={userValid.about.msg}/>}\n                    <div className=\"prof-info mt-2\">\n                        <div className=\"users-control_label\">Общая информация</div>\n                        <input id=\"input-about\" className=\"users-control_input\"\n                               onChange={handleUserInfo} onBlur={handleBlur}/>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    return (\n        <div>\n            <StatusLabel info={label}/>\n            <div className=\"users\">\n                <div className=\"users-control\">\n                    <div className=\"panel__header\">\n                        Добавление пользователей\n                    </div>\n                    <div className=\"users-control_block\">\n                        <div className=\"mt-1\">\n                            {(userValid.surname.noFocus && userValid.surname.msg) &&\n                            <AuthError msg={userValid.surname.msg}/>}\n                            <div className=\"users-control_label\">Фамилия</div>\n                            <input id=\"input-surname\" className=\"users-control_input\" value={userInfo.surname}\n                                   onChange={handleUserInfo} onBlur={handleBlur}/>\n                        </div>\n                        <div className=\"mt-1\">\n                            {(userValid.name.noFocus && userValid.name.msg) &&\n                            <AuthError msg={userValid.name.msg}/>}\n                            <div className=\"users-control_label\">Имя</div>\n                            <input id=\"input-name\" className=\"users-control_input\" value={userInfo.name}\n                                   onChange={handleUserInfo} onBlur={handleBlur}/>\n                        </div>\n                        <div className=\"mt-1\">\n                            {(userValid.patronymic.noFocus && userValid.patronymic.msg) &&\n                            <AuthError msg={userValid.patronymic.msg}/>}\n                            <div className=\"users-control_label\">Отчество</div>\n                            <input id=\"input-patronymic\" className=\"users-control_input\" value={userInfo.patronymic}\n                                   onChange={handleUserInfo} onBlur={handleBlur}/>\n                        </div>\n                        <div className=\"mt-1\">\n                            {(userValid.phone.noFocus && userValid.phone.msg) &&\n                            <AuthError msg={userValid.phone.msg}/>}\n                            <div className=\"users-control_label\">Телефон</div>\n                            <small className=\"users-control_advice\">Формат: 8 (888) 888-88-88</small>\n                            <input id=\"input-phone\" className=\"users-control_input\" value={userInfo.phone}\n                                   onChange={handleUserInfo} onBlur={handleBlur}/>\n                        </div>\n                        <div className=\"mt-1\">\n                            {(userValid.email.noFocus && userValid.email.msg) &&\n                            <AuthError msg={userValid.email.msg}/>}\n                            <div className=\"users-control_label\">Email</div>\n                            <input id=\"input-email\" className=\"users-control_input\" value={userInfo.email}\n                                   onChange={handleUserInfo} onBlur={handleBlur}/>\n                        </div>\n                        <div className=\"mt-1\">\n                            <div className=\"users-control_label\">Пароль</div>\n                            <small className=\"users-control_advice\">Не заполняется, если нет необходимости обновлять\n                                пароль существующего пользователя.</small>\n                            <div className=\"d-flex flex-row align-items-center\">\n                                <input id=\"input-password\" className=\"users-control_input\"\n                                       value={userInfo.password} onChange={handleUserInfo}\n                                       disabled={true} onBlur={handleBlur}/>\n                                <button type=\"button\" onClick={handlePassword}\n                                        className=\"tag-btn ml-1\"><FontAwesomeIcon className=\"icon-reload\"\n                                                                                  icon={faRedoAlt}\n                                                                                  size={\"sm\"}\n                                                                                  color={\"#ffffff\"}/></button>\n                            </div>\n                        </div>\n\n                        <div className=\"mt-3 mb-2\">\n                            <div className=\"users-control_label\">Тип пользователя</div>\n                            <select id=\"select-usertype\" className=\"users-control_select\" value={userInfo.role}\n                                    onChange={handleUserInfo} onBlur={handleBlur}>\n                                <option value={USER_TYPE_STUDENT}>Студент</option>\n                                <option value={USER_TYPE_PROFESSOR}>Преподаватель</option>\n                                <option value={USER_TYPE_METHODIST}>Методист</option>\n                            </select>\n                        </div>\n                        {defineRole()}\n\n                        <button type=\"button\" className=\"btn users-control_load mt-3 mb-3\"\n                                onClick={handleSubmit}>{btnText}\n                        </button>\n                    </div>\n                </div>\n                <UsersTable id={1} url={Urls.user.getProfessorsAll()} userType={USER_TYPE_PROFESSOR}\n                            title={\"Список преподавателей\"} rowClickEvent={handleUserEdit}/>\n                <UsersTable id={2} url={Urls.user.getStudentsAll()} userType={USER_TYPE_STUDENT}\n                            title={\"Список студентов\"} rowClickEvent={handleUserEdit}/>\n            </div>\n        </div>\n    )\n}\n\nexport default UsersControl;","import \"./pulseCheckBox.scss\"\nimport React from \"react\";\n\ntype Props = {\n    description: string\n    isChecked: (arg0: boolean) => void;\n}\n\nconst PulseCheckBox: React.FC<Props> = ({description, isChecked}) => {\n    const [checked, changeChecked] = React.useState(false);\n\n    const handleClick = React.useCallback(() => {\n        changeChecked(!checked);\n        isChecked(checked);\n    }, [checked, isChecked])\n\n    return (\n        <div className=\"d-flex flex-nowrap flex-row align-items-bottom\">\n            <input type=\"checkbox\" className=\"option-input checkbox\" onChange={handleClick}/>\n            <p className=\"pulse-description\">{description}</p>\n        </div>\n    )\n}\n\nexport default PulseCheckBox;","import React, {FormEvent} from \"react\";\nimport {MDBBtn, MDBInput} from \"mdbreact\";\nimport {Editor} from \"@tinymce/tinymce-react\";\nimport PulseCheckBox from \"@components/PulseCheckBox\";\nimport {TAG_EDUCATIONAL, TAG_GENERAL, TAG_IMPORTANT} from \"@config/config\";\nimport {useHistory} from \"react-router-dom\";\nimport {getTinymce} from \"@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE\";\nimport Admin from \"@media/admin.jpg\"\n\nimport \"./createPost.scss\";\n\ntype PostInfo = {\n    title: string,\n    postImgUrl: string,\n    tag: string,\n    allowComments: boolean,\n    content: string,\n    buttonText: string\n}\n\nconst CreatePost = () => {\n    const [postInfo, changePostInfo] = React.useState<PostInfo>({\n        title: \"\",\n        postImgUrl: Admin,\n        tag: \"\",\n        allowComments: false,\n        content: \"\",\n        buttonText: \"Предпросмотр\"\n    })\n    const [tagContent, changeTagContent] = React.useState(\"\")\n    const [tag, changeTag] = React.useState<HTMLElement | null>()\n    const [postImgInput, changePostImgInput] = React.useState<HTMLInputElement | null>();\n    const [isTextChanged, changeTextFlag] = React.useState(false);\n    const history = useHistory();\n\n    React.useEffect(() => {\n        changeTag(document.getElementById(\"post-tag\"));\n        changePostImgInput(document.getElementById(\"post-img\") as HTMLInputElement);\n    }, []);\n\n    const handleTitleChange = React.useCallback((e: FormEvent<HTMLInputElement>) => {\n        const oldInfo = postInfo;\n        oldInfo.title = (e.target as HTMLInputElement).value;\n        changePostInfo(oldInfo);\n    }, [postInfo]);\n\n    const handleEditorChange = React.useCallback((content: string, editor: any) => {\n        const oldInfo = {...postInfo};\n        oldInfo.content = content;\n        oldInfo.buttonText = \"Предпросмотр\";\n        changeTextFlag(false);\n        changePostInfo(oldInfo);\n    }, [postInfo]);\n\n    const handleButtonChange = React.useCallback(() => {\n        if (!isTextChanged) {\n            getTinymce()?.activeEditor.execCommand(\"mcePreview\");\n            //tinymce.get(\"post-create-editor\").execCommand(\"mcePreview\");\n        } else {\n            console.log(postInfo);\n            //history.push(\"/posts\");\n        }\n        changeTextFlag(true);\n        const oldInfo = {...postInfo};\n        oldInfo.buttonText = \"Опубликовать\";\n        changePostInfo(oldInfo);\n        //TEMP.posts.push(Parser(postInfo.content) as JSX.Element);\n        //console.log(TEMP);\n        //this.setState({buttonText: \"Опубликовать\"});\n    }, [isTextChanged, postInfo]);\n\n    const handleSelectChange = React.useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\n        if (!tag) {\n            return;\n        }\n        switch (e.target.value) {\n            case \"1\":\n                tag.style.color = \"#34a8bb\";\n                break;\n            case \"2\":\n                tag.style.color = \"#e86262\";\n                break;\n            default:\n                tag.style.color = \"#59b759\";\n        }\n    }, [tag]);\n\n    const handleImgChange = () => {\n        const oldPost = {...postInfo};\n        if (postImgInput && postImgInput.files && postImgInput.files[0]) {\n            oldPost.postImgUrl = URL.createObjectURL(postImgInput.files[0]);\n            changePostInfo(oldPost);\n            console.log(postInfo)\n        }\n    };\n\n    const handleCheckBoxChange = React.useCallback((isChecked: boolean) => {\n        const oldInfo = {...postInfo};\n        oldInfo.allowComments = isChecked;\n        changePostInfo(oldInfo);\n    }, [postInfo])\n\n    const filePickerCb = React.useCallback((callback: Function, value: any, meta: Record<string, any>) => {\n        if (meta.filetype === 'image') {\n            let input = document.createElement(\"input\");\n            let file: File;\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"accept\", \"image/*\");\n            input.onchange = () => {\n                if (input.files) {\n                    file = input.files[0];\n                }\n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    callback(e.target?.result, {\n                        alt: file.name\n                    });\n                }\n                reader.readAsDataURL(file);\n            };\n            input.click();\n        }\n    }, []);\n\n    return (\n        <div>\n            <div\n                className=\"post-card container-fluid d-flex h-100 justify-content-center align-items-center col-xl-10\">\n                <form className=\"post-create-card container\">\n                    <p className=\"h5 text-center mb-4\">Создние поста</p>\n                    <div className=\"d-flex flex-row\">\n                        <div className=\"col-2 d-flex flex-column flex-nowrap align-items-center\">\n                            <img id=\"blah\" src={postInfo.postImgUrl} alt=\"img not loaded\" className=\"post-img\"/>\n                            <input className=\"post-img\" type=\"file\" id=\"post-img\" accept=\"image/*\"\n                                   onChange={handleImgChange}/>\n                            <button className=\"btn-upload-img\" type=\"button\" onClick={() => {\n                                postImgInput?.click()\n                            }}>\n                                <span className=\"btn-title\">...</span>\n                            </button>\n                        </div>\n                        <div className=\"col-10\">\n                            <div className=\"grey-text\">\n                                <MDBInput label=\"Заголовок\" icon=\"heading\" group type=\"text\"\n                                          onChange={handleTitleChange}/>\n                                <div className=\"d-flex flex-row\">\n                                    <i id=\"post-tag\" className=\"fa fa-tag fa-lg position-absolute\"/>\n                                    <select className=\"post-tag\" defaultValue=\"0\" onChange={handleSelectChange}>\n                                        <option value=\"0\" hidden disabled>ТЭГ</option>\n                                        <option value=\"1\">{TAG_GENERAL}</option>\n                                        <option value=\"2\">{TAG_IMPORTANT}</option>\n                                        <option value=\"3\">{TAG_EDUCATIONAL}</option>\n                                    </select>\n                                </div>\n                                <div className=\"d-flex flex-row\">\n                                    <i className=\"fa fa-pencil-alt fa-lg position-absolute\"/>\n                                    <div className=\"editor-with-tag\">\n                                        <Editor\n                                            id=\"post-create-editor\"\n                                            apiKey=\"i2ukwtg8ixnvv92anoj0cspm5r696rucv5oxdaten85488x4\"\n                                            init={{\n                                                language: \"ru\",\n                                                min_height: 350,\n                                                height: 500,\n                                                max_height: 750,\n                                                plugins: [\n                                                    \"advlist autolink lists link image charmap print preview anchor\",\n                                                    \"searchreplace visualblocks code fullscreen \",\n                                                    \"insertdatetime media table paste code help wordcount emoticons hr imagetools\", //TODO: check imagetools proxy\n                                                ],\n                                                toolbar:\n                                                    \"undo redo | image hr| formatselect | bold italic forecolor backcolor | \\\n                                                    alignleft aligncenter alignright alignjustify | \\\n                                                    numlist bullist outdent indent | removeformat\",\n                                                style_formats_merge: true,\n                                                style_formats: [\n                                                    {\n                                                        title: 'Image Top', selector: 'img', styles: {\n                                                            'vertical-align': 'top'\n                                                        }\n                                                    },\n                                                    {\n                                                        title: 'Image Middle', selector: 'img', styles: {\n                                                            'vertical-align': 'middle'\n                                                        }\n                                                    },\n                                                    {\n                                                        title: 'Image Bottom', selector: 'img', styles: {\n                                                            'vertical-align': 'bottom'\n                                                        }\n                                                    },\n                                                ],\n                                                insertdatetime_formats: ['%H:%M:%S', '%d-%m-%Y', '%I:%M:%S %p'],\n                                                image_advtab: true,\n                                                fullscreen_native: true,\n                                                automatic_uploads: true,\n                                                image_description: false,\n                                                file_picker_types: \"image\",\n                                                paste_webkit_styles: 'color font-size',\n                                                paste_retain_style_properties: 'color font-size',\n                                                paste_data_images: false,\n                                                paste_as_text: false,\n                                                file_picker_callback: filePickerCb,\n                                                content_style: \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\"\n                                            }}\n                                            value={postInfo.content}\n                                            onEditorChange={handleEditorChange}\n                                        />\n                                    </div>\n                                </div>\n                                <div className=\"mt-3\">\n                                    <PulseCheckBox description=\"Разрешить комментарии\" isChecked={handleCheckBoxChange}/>\n                                </div>\n                            </div>\n                            <div className=\"text-center\">\n                                <MDBBtn outline color=\"cyan\" onClick={handleButtonChange}>\n                                    <span>{postInfo.buttonText}</span>\n                                </MDBBtn>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default CreatePost;","import React from \"react\";\nimport Admin from \"@media/admin.jpg\"\n\n\n\nconst Profile = () => {\n\n    const [imgUrl, changeImgUrl] = React.useState(Admin);\n    const [postImgInput, changePostImgInput] = React.useState<HTMLInputElement | null>();\n\n    const handleImgChange = () => {\n        if (postImgInput && postImgInput.files && postImgInput.files[0]) {\n            changeImgUrl(URL.createObjectURL(postImgInput.files[0]));\n        }\n    };\n\n    React.useEffect(() => {\n        changePostImgInput(document.getElementById(\"post-img\") as HTMLInputElement);\n    }, []);\n\n    return (\n        <div className=\"col-2 d-flex flex-column flex-nowrap align-items-center\">\n            <img id=\"blah\" src={imgUrl} alt=\"img not loaded\" className=\"post-img\"/>\n            <input className=\"post-img\" type=\"file\" id=\"post-img\" accept=\"image/*\"\n                   onChange={handleImgChange}/>\n            <button className=\"btn-upload-img\" type=\"button\" onClick={() => {\n                postImgInput?.click()\n            }}>\n                <span className=\"btn-title\">...</span>\n            </button>\n        </div>\n    )\n}\n\nexport default Profile;","import React from 'react';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport {PrivateRoute} from \"@utils/privateRoute\"\nimport Header from \"@components/Header\";\nimport {Urls} from \"@config/urls\"\nimport Timetable from \"../pages/Timetable\";\nimport Auth from \"../pages/Authorization\";\nimport NotFoundPage from \"../pages/NotFound\";\nimport Home from \"../pages/Home\";\nimport UsersControl from \"../pages/UsersControl\";\nimport \"../styles/main.scss\"\nimport \"../styles/fontawesome-free-5.15.3-web/css/all.min.css\"\nimport CreatePost from \"../pages/PostCreate\";\nimport ViewPost from \"@components/ViewPost\";\nimport Profile from \"../pages/Profile\";\n\nexport const TEMP: { posts: Array<JSX.Element> } = {\n    posts: [],\n}\n\nconst App = () => {\n    return (\n        <BrowserRouter>\n            <div className=\"App h-100\">\n                <Header/>\n                <Switch>\n                    <PrivateRoute exact path={Urls.root}\n                                  component={Home}/>\n                    <PrivateRoute exact path={Urls.feed.slugRoot}\n                                  component={Home}/>\n                    <PrivateRoute exact path={Urls.timetable.slugEdit}\n                                  component={Timetable}/>\n                    <PrivateRoute exact path={Urls.panel.slugRoot}\n                                  component={UsersControl}/>\n                    <PrivateRoute exact path={Urls.post.slugCreate}\n                                  component={CreatePost}/>\n                    <PrivateRoute path=\"/posts/:id\" component={ViewPost} />\n                    <PrivateRoute exact path={Urls.user.slugMe} component={Profile} />\n                    <PrivateRoute path={Urls.user.slugProfile} component={()=>(<div>Profile</div>)} />\n                    <Route exact path={Urls.auth} component={Auth}/>\n                    <Route path={Urls.notFound} component={NotFoundPage}/>\n                </Switch>\n            </div>\n        </BrowserRouter>\n    )\n}\n\n\n// const App = () => {\n//     return (\n//         <BrowserRouter>\n//             <div className=\"App h-100\">\n//                 <CreatePost/>\n//             </div>\n//         </BrowserRouter>\n//     )\n// }\n\nexport default App;\n\n//https://github.com/ktsstudio/kts-school-frontend","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport \"./styles/main.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}